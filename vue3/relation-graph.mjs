(function(){ try {var elementStyle = document.createElement('style'); elementStyle.appendChild(document.createTextNode(".rg-icon[data-v-41b1ef18]{width:19px;height:19px;vertical-align:0px;fill:currentColor;overflow:hidden}.el-icon-remove[data-v-41b1ef18],.el-icon-circle-plus[data-v-41b1ef18]{cursor:pointer}.rel-node-peel[data-v-41b1ef18]{clear:both;padding:8px;position:absolute;font-size:14px}.rel-node[data-v-41b1ef18]{text-align:center}.rel-node-shape-1[data-v-41b1ef18]{border-radius:5px}.c-node-text[data-v-41b1ef18]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.rel-node-shape-1 .c-node-text[data-v-41b1ef18]{padding-left:5px;padding-right:5px}.rel-node-shape-0[data-v-41b1ef18]{width:80px;height:80px;border-radius:50%}.rel-node-type-button[data-v-41b1ef18]{border-radius:25px;color:#00f;cursor:pointer}.rel-node-checked[data-v-41b1ef18],.rel-node-selected[data-v-41b1ef18]{box-shadow:0 0 10px #fd8b37;animation-timing-function:linear;animation:ACTRGNodeInit-41b1ef18 2s}.rel-node-vtree-2[data-v-41b1ef18]{transform-origin:0 0;transform:rotate(30deg) translate(0)}.rel-node-vtree[data-v-41b1ef18]{width:130px;height:45px;text-align:left}.c-btn-open-close[data-v-41b1ef18]{position:absolute;height:100%;width:19px;display:flex;align-items:center;justify-content:center;user-select:none;pointer-events:none}.c-btn-open-close span[data-v-41b1ef18]{width:19px;height:19px;display:inline-block;text-align:center;border-radius:15px;color:#fff;cursor:pointer;font-size:19px;line-height:16px;background-size:100% 100%;pointer-events:all}.c-expanded[data-v-41b1ef18]{background-image:url(data:image/svg+xml;%20charset=utf8,%3Csvg%20t=%221606310217820%22%20viewBox=%220%200%201024%201024%22%20version=%221.1%22%20xmlns=%22http://www.w3.org/2000/svg%22%20p-id=%223373%22%20width=%2232%22%20height=%2232%22%3E%3Cpath%20d=%22M853.333333%20480H544V170.666667c0-17.066667-14.933333-32-32-32s-32%2014.933333-32%2032v309.333333H170.666667c-17.066667%200-32%2014.933333-32%2032s14.933333%2032%2032%2032h309.333333V853.333333c0%2017.066667%2014.933333%2032%2032%2032s32-14.933333%2032-32V544H853.333333c17.066667%200%2032-14.933333%2032-32s-14.933333-32-32-32z%22%20p-id=%223374%22%20fill=%22white%22%3E%3C/path%3E%3C/svg%3E)}.c-collapsed[data-v-41b1ef18]{background-image:url(data:image/svg+xml;%20charset=utf8,%3Csvg%20t=%221606310454619%22%20class=%22icon%22%20viewBox=%220%200%201024%201024%22%20version=%221.1%22%20xmlns=%22http://www.w3.org/2000/svg%22%20p-id=%223662%22%20width=%22128%22%20height=%22128%22%3E%3Cpath%20d=%22M853.333333%20554.666667H170.666667c-23.466667%200-42.666667-19.2-42.666667-42.666667s19.2-42.666667%2042.666667-42.666667h682.666666c23.466667%200%2042.666667%2019.2%2042.666667%2042.666667s-19.2%2042.666667-42.666667%2042.666667z%22%20p-id=%223663%22%20fill=%22white%22%3E%3C/path%3E%3C/svg%3E)}.c-expand-positon-left[data-v-41b1ef18]{margin-top:-8px;margin-left:-25px}.c-expand-positon-right[data-v-41b1ef18]{height:100%;width:100%;justify-content:center}.c-expand-positon-right span[data-v-41b1ef18]{margin-top:-18px;margin-right:-18px;margin-left:100%}.c-expand-positon-bottom[data-v-41b1ef18]{height:100%;width:100%;margin-top:7px;margin-left:-8px;align-items:flex-end;justify-content:center}.c-expand-positon-top[data-v-41b1ef18]{height:18px;width:100%;margin-top:-20px;margin-left:-6px;align-items:flex-end;justify-content:center}@keyframes ACTRGNodeInit-41b1ef18{0%{box-shadow:0 0 15px #fd8b37}15%{box-shadow:0 0 1px #2e4e8f}30%{box-shadow:0 0 15px #fd8b37}45%{box-shadow:0 0 1px #2e4e8f}60%{box-shadow:0 0 15px #fd8b37}to{box-shadow:0 0 1px #2e4e8f}}.rel-diy-node[data-v-41b1ef18]{padding:0}.c-rg-line-text[data-v-5a7c66a9]{fill:#888;font-size:12px}.c-rg-line[data-v-5a7c66a9]{z-index:1000;fill-rule:nonzero}.c-rg-line-tool[data-v-5a7c66a9]{stroke-dasharray:5,5,5}.c-rg-line-flash[data-v-5a7c66a9]{-moz-transform:rotate(-89deg) translateX(-190px);animation-timing-function:linear;animation:ACTRGLineChecked-5a7c66a9 10s}@keyframes ACTRGLineInit-5a7c66a9{0%{stroke-dashoffset:10px;stroke-dasharray:20,20,20}to{stroke-dashoffset:0;stroke-dasharray:0,0,0}}@keyframes ACTRGLineChecked-5a7c66a9{0%{stroke-dashoffset:352px}to{stroke-dashoffset:0}}.c-rg-line-text{fill:#888;font-size:12px}.c-rg-line{z-index:1000;fill-rule:nonzero}.c-rg-line-tool{stroke-dasharray:5,5,5}.c-rg-line-flash{-moz-transform:rotate(-89deg) translateX(-190px);animation-timing-function:linear;animation:ACTRGLineChecked 10s}@keyframes ACTRGLineInit{0%{stroke-dashoffset:10px;stroke-dasharray:20,20,20}to{stroke-dashoffset:0;stroke-dasharray:0,0,0}}@keyframes ACTRGLineChecked{0%{stroke-dashoffset:352px}to{stroke-dashoffset:0}}.c-rg-line-checked{stroke-width:2px;stroke-dasharray:5,5,5;stroke-dashoffset:3px;stroke-linecap:butt;stroke-linejoin:bevel;-moz-transform:rotate(-89deg) translateX(-190px);animation-timing-function:linear;animation:ACTRGLineChecked 10s}.c-rg-line-text[data-v-c6092e44]{fill:#888;font-size:12px}.c-rg-line[data-v-c6092e44]{z-index:1000;fill-rule:nonzero}.c-rg-line-tool[data-v-c6092e44]{stroke-dasharray:5,5,5}.c-rg-line-flash[data-v-c6092e44]{-moz-transform:rotate(-89deg) translateX(-190px);animation-timing-function:linear;animation:ACTRGLineChecked-c6092e44 10s}@keyframes ACTRGLineInit-c6092e44{0%{stroke-dashoffset:10px;stroke-dasharray:20,20,20}to{stroke-dashoffset:0;stroke-dasharray:0,0,0}}@keyframes ACTRGLineChecked-c6092e44{0%{stroke-dashoffset:352px}to{stroke-dashoffset:0}}.rel-map[data-v-32eefd72]{background-color:#fff;overflow:hidden;cursor:default;user-select:none}.rel-map-background-norepeat[data-v-32eefd72]{background-repeat:no-repeat;background-position:right bottom}.rel-nodediv-for-webkit[data-v-32eefd72]{position:absolute;width:100%;top:0px;left:0px;z-index:1000}.rel-map-canvas[data-v-32eefd72]{position:relative;top:0px;left:0px;border:0px;z-index:3}svg[data-v-32eefd72]{height:100%;width:100%}.rel-linediv[data-v-32eefd72]{position:absolute;z-index:900;width:100%;top:0px;left:0px;--stroke: url(#lineStyle);--markerEnd: url(#arrow-default);--markerStart: url(#start-arrow-default);--markerEndChecked: url(#arrow-checked);--markerStartChecked: url(#start-arrow-checked)}.rel-linediv svg[data-v-32eefd72]{overflow:visible}.rel-map[data-v-32eefd72] img{-webkit-user-drag:none;-webkit-user-select:none}.c-setting-panel[data-v-88390d64]{--height: 300px;--width: 200px;width:300px;height:200px;position:absolute;margin-left:10px;margin-top:5px;font-size:12px;color:#3a5bb2;padding:60px 10px 10px;overflow:hidden;box-shadow:0 0 5px #999;border-radius:5px;z-index:1000;background-color:#fff;border:#999999 solid 1px}.c-setting-panel-button[data-v-88390d64]{height:35px;width:35px;font-size:8px;line-height:35px;text-align:center;border-radius:50%;position:absolute;margin-left:25px;margin-top:20px;background-color:#3a5bb2;color:#fff;cursor:pointer;z-index:1001;box-shadow:0 0 8px #999}.c-setting-panel-button[data-v-88390d64]:hover{box-shadow:0 0 20px #ffa20a;border:#ffffff solid 1px;color:#ffa20a;-moz-transform:rotate(-89deg) translateX(-190px);animation-timing-function:linear;animation:flashButton-88390d64 2s infinite}.c-fixedLayout[data-v-88390d64]{position:fixed;top:125px}@keyframes flashButton-88390d64{0%{box-shadow:0 0 8px #2e4e8f}30%{box-shadow:0 0 20px #ffa20a}to{box-shadow:0 0 8px #2e4e8f}}.c-debug-tools-row[data-v-88390d64]{text-align:left}.c-mini-graph[data-v-1b3b937f]{height:100px;width:100px;position:absolute;margin-left:60px;margin-top:100px;z-index:999}.c-fixedLayout[data-v-1b3b937f]{position:fixed;top:100px}.c-mini-canvas[data-v-1b3b937f]{background-color:#aacbff;border:#7ba8ff solid 1px;opacity:.8;position:relative}.c-mini-view[data-v-1b3b937f]{background-color:#f5a565;border:#c03639 solid 1px;opacity:.5;color:#fff;font-size:14px;text-align:center;display:flex;align-items:center;justify-content:center;position:absolute}.c-mini-node[data-v-1b3b937f]{position:absolute;width:2px;height:2px;background-color:#000;border-radius:1px}.rg-icon[data-v-c51977d9]{width:16px;height:16px;vertical-align:-3px;fill:currentColor;overflow:hidden}.c-mini-toolbar[data-v-c51977d9]{width:44px;position:absolute;margin-top:170px;margin-right:10px;z-index:999;border:#bbbbbb solid 1px;background-color:#fff;box-shadow:0 0 8px #ccc;box-sizing:border-box}.c-fixedLayout[data-v-c51977d9]{position:fixed;top:100px}.c-mb-button[data-v-c51977d9]{height:44px;width:42px;margin-top:0;background-color:#fff;border-top:#efefef solid 1px;opacity:1;text-align:center;padding-top:3px;cursor:pointer;color:#999;font-size:18px;float:left;box-sizing:border-box;line-height:21px}.c-mb-button .c-mb-text[data-v-c51977d9]{display:inline-block;height:14px;width:42px;font-size:12px;line-height:12px;margin-top:24px;margin-left:-28px;position:absolute;color:#262626}.c-mb-button-on[data-v-c51977d9]{background-color:#2e74b5;border-top:#2e4e8f solid 1px;color:#fff}.c-mb-button[data-v-c51977d9]:hover{background-color:#2e4e8f;border-top:#2e4e8f solid 1px;color:#fff}.c-mb-button:hover .c-mb-text[data-v-c51977d9],.c-mb-button-on .c-mb-text[data-v-c51977d9]{color:#fff}.c-mb-button .c-mb-child-panel[data-v-c51977d9]{height:46px;position:absolute;margin-top:-26px;background-color:#fff;display:none;border:#bbbbbb solid 1px;box-shadow:0 0 8px #ccc;box-sizing:border-box}.c-mb-button:hover .c-mb-child-panel[data-v-c51977d9]{display:block}.c-mb-button .c-mb-button[data-v-c51977d9]{height:44px;width:42px;margin:0;border:none}.c-mb-button-c .c-mb-text[data-v-c51977d9]{color:#262626!important}.c-mb-button-c:hover .c-mb-text[data-v-c51977d9],.c-mb-button-on .c-mb-text[data-v-c51977d9]{color:#fff!important}.c-loading-icon[data-v-c51977d9]{animation:turn-c51977d9 1s linear infinite}@keyframes turn-c51977d9{0%{-webkit-transform:rotate(0deg)}25%{-webkit-transform:rotate(90deg)}50%{-webkit-transform:rotate(180deg)}75%{-webkit-transform:rotate(270deg)}to{-webkit-transform:rotate(360deg)}}.xxxxxxxxx[data-v-7b743962]{color:red}")); document.head.appendChild(elementStyle);} catch(e) {console.error('vite-plugin-css-injected-by-js', e);} })();import { defineComponent as O, ref as D, inject as Y, computed as Z, onMounted as he, onBeforeUnmount as ve, withDirectives as Le, openBlock as y, createElementBlock as x, normalizeStyle as A, unref as f, normalizeClass as H, createElementVNode as p, withModifiers as V, createCommentVNode as N, renderSlot as T, vShow as Se, toDisplayString as oe, Fragment as R, renderList as J, createBlock as ne, withCtx as le, pushScopeId as xe, popScopeId as we, createTextVNode as ze, provide as $e, nextTick as Pe, createVNode as me } from "vue";
import * as Ne from "screenfull";
import ce from "screenfull";
import * as Ee from "html2canvas";
import Ie from "html2canvas";
var Be = !function(o) {
  var e, t, s, n, i, l, r = '<svg><symbol id="icon-iconset0444" viewBox="0 0 1024 1024"><path d="M960 682.666667l-106.666667 0C844.8 569.6 763.733333 42.666667 64 42.666667 51.2 42.666667 42.666667 51.2 42.666667 64c0 12.8 8.533333 21.333333 21.333333 21.333333 219.733333 0 377.6 106.666667 465.066667 315.733333 51.2 123.733333 64 236.8 66.133333 281.6L490.666667 682.666667c-12.8 0-21.333333 8.533333-21.333333 21.333333 0 6.4 2.133333 10.666667 6.4 14.933333l234.666667 256c4.266667 4.266667 8.533333 6.4 14.933333 6.4 6.4 0 10.666667-2.133333 14.933333-6.4l234.666667-256c4.266667-4.266667 6.4-8.533333 6.4-14.933333C981.333333 691.2 972.8 682.666667 960 682.666667zM725.333333 928 539.733333 725.333333 618.666667 725.333333c12.8 0 21.333333-8.533333 21.333333-21.333333l0-21.333333c-4.266667-87.466667-38.4-396.8-273.066667-554.666667C755.2 251.733333 804.266667 588.8 810.666667 682.666667l0 21.333333c0 12.8 8.533333 21.333333 21.333333 21.333333l78.933333 0L725.333333 928z"  ></path></symbol><symbol id="icon-iconset0445" viewBox="0 0 1024 1024"><path d="M974.933333 305.066667l-234.666667-256C736 44.8 731.733333 42.666667 725.333333 42.666667c-6.4 0-10.666667 2.133333-14.933333 6.4l-234.666667 256C471.466667 309.333333 469.333333 313.6 469.333333 320c0 12.8 8.533333 21.333333 21.333333 21.333333l104.533333 0c-2.133333 44.8-14.933333 157.866667-66.133333 281.6C441.6 832 283.733333 938.666667 64 938.666667c-12.8 0-21.333333 8.533333-21.333333 21.333333 0 12.8 8.533333 21.333333 21.333333 21.333333 699.733333 0 780.8-526.933333 789.333333-640l106.666667 0c12.8 0 21.333333-8.533333 21.333333-21.333333C981.333333 313.6 979.2 309.333333 974.933333 305.066667zM832 298.666667c-12.8 0-21.333333 8.533333-21.333333 21.333333l0 21.333333c-6.4 93.866667-55.466667 430.933333-443.733333 554.666667 234.666667-157.866667 268.8-467.2 273.066667-554.666667l0-21.333333c0-12.8-8.533333-21.333333-21.333333-21.333333l-78.933333 0L725.333333 96l185.6 202.666667L832 298.666667z"  ></path></symbol><symbol id="icon-yuanquanfenxiang" viewBox="0 0 1024 1024"><path d="M751.148705 578.773799c-61.987796 0-117.066229 30.121018-151.388942 76.488045L398.287145 536.382317c1.991354-10.171664 3.046383-20.673855 3.046383-31.419594 0-18.776645-3.196809-36.817534-9.058306-53.621245l193.486736-107.492176c31.949666 58.566884 94.104261 98.391914 165.386748 98.391914 103.803157 0 188.254571-84.450391 188.254571-188.254571S854.951863 65.73105 751.148705 65.73105c-103.804181 0-188.255595 84.450391-188.255595 188.254571 0 14.246469 1.600451 28.125571 4.613064 41.4746L368.032074 406.279167c-29.841655-39.193651-76.976162-64.544015-129.927141-64.544015-90.004897 0-163.228595 73.223698-163.228595 163.228595 0 90.003873 73.223698 163.228595 163.228595 163.228595 60.882626 0 114.078175-33.510208 142.134161-83.049484L575.173808 700.16452c-7.925507 20.788465-12.280698 43.325761-12.280698 66.86385 0 103.803157 84.450391 188.254571 188.255595 188.254571 103.803157 0 188.254571-84.450391 188.254571-188.254571S854.951863 578.773799 751.148705 578.773799zM751.148705 116.89636c75.590606 0 137.089261 61.498656 137.089261 137.089261s-61.498656 137.089261-137.089261 137.089261c-75.591629 0-137.090285-61.498656-137.090285-137.089261S675.557076 116.89636 751.148705 116.89636zM238.105956 617.026008c-61.791321 0-112.063285-50.27094-112.063285-112.063285 0-61.791321 50.27094-112.063285 112.063285-112.063285s112.063285 50.27094 112.063285 112.063285C350.168218 566.755068 299.897278 617.026008 238.105956 617.026008zM751.148705 904.117632c-75.591629 0-137.090285-61.498656-137.090285-137.089261s61.498656-137.089261 137.090285-137.089261c75.590606 0 137.089261 61.498656 137.089261 137.089261S826.739311 904.117632 751.148705 904.117632z"  ></path></symbol><symbol id="icon-hj2" viewBox="0 0 1024 1024"><path d="M963.66 256.607c0-0.244 0-0.607-0.126-0.851 0-0.369 0-0.614-0.119-0.978 0-0.369-0.119-0.733-0.119-1.104 0-0.244 0-0.487-0.126-0.725 0-0.369-0.119-0.859-0.244-1.222 0-0.244-0.119-0.369-0.119-0.613-0.126-0.365-0.126-0.852-0.245-1.216 0-0.244-0.126-0.369-0.126-0.613-0.119-0.365-0.244-0.734-0.364-1.222-0.126-0.244-0.126-0.49-0.244-0.609l-0.369-1.095c-0.119-0.245-0.119-0.49-0.244-0.734-0.121-0.369-0.245-0.613-0.365-0.978-0.126-0.244-0.244-0.613-0.369-0.851-0.119-0.244-0.238-0.613-0.364-0.859-0.119-0.364-0.244-0.607-0.364-0.977l-0.371-0.734c-0.119-0.364-0.364-0.725-0.487-0.971-0.119-0.245-0.244-0.371-0.364-0.614-0.244-0.364-0.369-0.733-0.614-1.097-0.119-0.126-0.244-0.369-0.364-0.487l-0.733-1.097c-0.119-0.126-0.244-0.369-0.365-0.487-0.244-0.369-0.487-0.733-0.733-0.978-0.126-0.244-0.244-0.369-0.487-0.613-0.245-0.238-0.49-0.607-0.734-0.851-0.244-0.245-0.487-0.49-0.607-0.734-0.244-0.244-0.369-0.487-0.614-0.733-0.851-0.972-1.829-1.83-2.681-2.682-0.245-0.244-0.49-0.369-0.734-0.614-0.244-0.244-0.487-0.487-0.733-0.607-0.245-0.244-0.614-0.487-0.859-0.733-0.238-0.121-0.364-0.365-0.607-0.49-0.365-0.244-0.734-0.487-0.978-0.733-0.119-0.119-0.364-0.244-0.487-0.365l-1.097-0.733c-0.119-0.119-0.364-0.244-0.487-0.364-0.365-0.244-0.734-0.369-1.097-0.614-0.244-0.119-0.369-0.244-0.613-0.364-0.365-0.126-0.734-0.369-0.972-0.487l-0.734-0.369c-0.369-0.121-0.613-0.245-0.977-0.365-0.244-0.126-0.614-0.244-0.859-0.369-0.244-0.119-0.607-0.238-0.851-0.364-0.365-0.119-0.609-0.244-0.978-0.364-0.244-0.126-0.487-0.126-0.733-0.245l-1.097-0.369c-0.244-0.119-0.487-0.119-0.609-0.244-0.369-0.119-0.733-0.244-1.22-0.364-0.245 0-0.371-0.126-0.614-0.126-0.364-0.119-0.851-0.244-1.216-0.244-0.244 0-0.487-0.121-0.613-0.121-0.364-0.126-0.852-0.126-1.222-0.244-0.244 0-0.482-0.126-0.725-0.126-0.369 0-0.734-0.119-1.104-0.119-0.364 0-0.607 0-0.978-0.126-0.244 0-0.607 0-0.851-0.119h-242.407c-21.604 0-39.062 17.456-39.062 39.062 0 21.604 17.458 39.055 39.062 39.055h146.102l-3.171 3.177-217.27 217.265 0.369 0.369-49.676 49.676-155.87-155.87c-7.694-7.689-17.827-11.472-27.953-11.472-10.13-0.126-20.263 3.659-27.952 11.472l-282.446 282.322c-15.258 15.258-15.258 40.041 0 55.298 15.258 15.258 40.033 15.258 55.291 0l255.108-255.11 155.746 155.751c7.813 7.815 17.945 11.593 28.076 11.474 10.126 0.119 20.382-3.659 28.070-11.474l182.964-182.969c0.734-0.734 1.347-1.342 1.956-2.075l111.564-111.564v146.109c0 21.604 17.451 39.060 39.055 39.060s39.062-17.456 39.062-39.060v-235.085c0-0.244 0.126-0.49 0.126-0.614 0-0.244 0.119-0.487 0.119-0.733 0-0.364 0.119-0.734 0.119-1.097s0-0.607 0.126-0.977c0-0.245 0-0.609 0.119-0.852-0.122-1.466-0.122-2.807-0.122-4.030v0zM963.66 256.607z"  ></path></symbol><symbol id="icon-circleyuanquan" viewBox="0 0 1024 1024"><path d="M150.1184 150.1184C250.2656 50.0736 370.8928 0 512 0c141.1072 0 261.7344 50.0736 361.8816 150.1184C973.9264 250.2656 1024 370.8928 1024 512c0 141.2096-50.0736 261.8368-150.1184 361.8816C773.7344 973.9264 653.1072 1024 512 1024c-141.1072 0-261.7344-50.0736-361.8816-150.1184C50.0736 773.8368 0 653.2096 0 512 0 370.8928 50.0736 250.2656 150.1184 150.1184zM512 41.8816c-85.2992 0-164.1472 20.8896-236.3392 62.7712C203.4688 146.432 146.432 203.4688 104.6528 275.6608 62.7712 347.9552 41.8816 426.7008 41.8816 512c0 129.6384 45.9776 240.4352 137.8304 332.288C271.5648 936.2432 382.3616 982.1184 512 982.1184c129.6384 0 240.4352-45.8752 332.288-137.8304C936.2432 752.4352 982.1184 641.6384 982.1184 512c0-129.6384-45.9776-240.3328-137.8304-332.288C752.4352 87.7568 641.6384 41.8816 512 41.8816zM512 256c-36.1472 0-70.144 7.0656-102.1952 20.8896C377.856 290.9184 349.4912 309.3504 324.9152 332.288c-22.9376 24.576-41.472 52.9408-55.3984 84.8896S248.6272 483.328 248.6272 519.3728c0 36.1472 6.9632 70.144 20.8896 102.1952s32.4608 60.3136 55.3984 84.8896C349.4912 729.4976 377.856 747.9296 409.8048 761.856 441.856 775.7824 475.8528 782.7456 512 782.7456c36.1472 0 70.144-6.9632 102.1952-20.8896C646.144 747.9296 674.5088 729.4976 699.0848 706.4576c22.9376-24.576 41.472-52.9408 55.3984-84.8896s20.8896-66.048 20.8896-102.1952c0-36.0448-6.9632-70.144-20.8896-102.1952S722.0224 356.9664 699.0848 332.288C674.5088 309.3504 646.144 290.9184 614.1952 276.8896 582.144 263.0656 548.1472 256 512 256z"  ></path></symbol><symbol id="icon-bhjlink" viewBox="0 0 1024 1024"><path d="M901.920618 465.785468c-50.993571 0-94.522533 32.698367-110.688942 78.273953L702.244627 544.059421c1.764013-10.590222 2.890616-21.423121 2.890616-32.694527 0-72.177856-40.480145-134.923579-99.898281-166.857822l34.099901-112.776268c8.829281 2.126492 18.1347 3.327588 27.724265 3.327588 64.833817 0 117.472367-52.597848 117.472367-117.589097C784.532727 52.594008 731.894177 0 667.06036 0c-64.911381 0-117.509229 52.594008-117.509229 117.470063 0 49.305587 30.248562 91.349307 73.177745 108.842756l-33.419485 110.692013c-22.548956-9.588797-47.462473-14.807112-73.540224-14.807112-49.18732 0-93.841349 18.658451-127.540374 49.309426L213.348053 196.583401l-1.886119 2.008226c19.940183-21.103648 32.256788-49.588197 32.256788-81.003297 0-64.872983-52.517212-117.470063-117.470063-117.470063-64.913685 0-117.511533 52.59708-117.511533 117.470063 0 65.034255 52.59708 117.592169 117.511533 117.592169 31.412796 0 59.898881-12.358075 80.921125-32.335888l-6.179038 6.056931 174.960609 174.879973c-30.729308 33.66293-49.506025 78.47516-49.506025 127.661712 0 43.008283 14.401627 82.685138 38.593258 114.501114l-149.845117 120.999625c-21.503757-28.044506-55.285722-46.218372-93.357532-46.218372-64.874519 0-117.430897 52.719186-117.430897 117.592169 0 64.833049 52.556378 117.470063 117.430897 117.470063 64.872983 0 117.549163-52.637014 117.549163-117.470063 0-20.541499-5.335813-39.878062-14.602834-56.68956l151.369526-122.203792c34.584487 37.633303 84.29095 61.384123 139.618142 61.384123 28.082136 0 54.602234-6.057699 78.553492-17.091805l52.716114 119.514383c-35.585143 20.222026-59.497236 58.335306-59.497236 102.106945 0 64.912149 52.637014 117.549163 117.592169 117.549163 64.872983 0 117.388659-52.637014 117.388659-117.549163 0-64.833049-52.516444-117.513069-117.388659-117.513069-15.047485 0-29.248673 2.929782-42.446133 7.903885l-52.798286-120.034294c42.807844-24.554878 75.182898-65.518073 88.46253-114.221576l88.222926 0c-1.405374 7.018422-1.96522 14.241123-1.96522 21.743362 0 64.872983 52.557914 117.509997 117.387123 117.509997 64.995089 0 117.596009-52.637014 117.596009-117.509997C1019.508947 518.383316 966.994039 465.785468 901.920618 465.785468L901.920618 465.785468zM901.920618 465.785468"  ></path></symbol><symbol id="icon-lianjie_connecting5" viewBox="0 0 1024 1024"><path d="M801.25952 251.74016l-28.9792-28.99968-150.79424 150.8352-35.1232-35.10272-99.14368 99.16416 99.14368 99.16416 99.16416-99.16416-35.10272-35.1232zM487.19872 476.8768l-29.94176 29.94176-19.61984-19.61984-99.16416 99.16416 35.10272 35.1232-150.8352 150.79424 28.95872 28.95872 150.8352-150.79424 35.10272 35.10272 99.14368-99.14368-19.61984-19.64032 29.96224-29.96224-59.92448-59.92448z m-15.48288 44.4416l15.4624-15.4624 30.98624 30.98624-15.4624 15.44192-30.98624-30.96576z" fill="" ></path></symbol><symbol id="icon-xiazai" viewBox="0 0 1024 1024"><path d="M840.5 900.3h-657c-16.5 0-29.9 13.4-29.9 29.9s13.4 29.9 29.9 29.9h657.1c16.5 0 29.9-13.4 29.9-29.9-0.1-16.6-13.5-29.9-30-29.9zM631.5 123.7V541.8H763.1L512 769.9l-251.2-228h131.7V123.7h239m0-59.7h-239c-33 0-59.7 26.7-59.7 59.7v358.4H183.5c-26.6 0-39.9 32.2-21.1 51l328.5 298.2c5.8 5.8 13.5 8.7 21.1 8.7s15.3-2.9 21.1-8.7l328.5-298.2c18.8-18.8 5.5-51-21.1-51H691.2V123.7c0-33-26.7-59.7-59.7-59.7z"  ></path></symbol><symbol id="icon-ico_reset" viewBox="0 0 1024 1024"><path d="M925.97087933 277.33133334a479.997 479.997 0 1 0 54.33566 255.9984H916.05094133a415.9974 415.9974 0 1 1-64.191599-255.9984h74.047537z"  ></path><path d="M978.64255033 61.01268534L725.33213333 371.09074734h297.59814z"  ></path></symbol><symbol id="icon-fangda" viewBox="0 0 1024 1024"><path d="M768 448a320 320 0 1 0-320 320 320 320 0 0 0 320-320z m64 0A384 384 0 1 1 448 64a384 384 0 0 1 384 384z"  ></path><path d="M681.28 726.72a32 32 0 0 1 45.44-45.44l160 160a32 32 0 0 1-45.44 45.44zM320 480a32 32 0 0 1 0-64h256a32 32 0 0 1 0 64z"  ></path><path d="M480 576a32 32 0 0 1-64 0V320a32 32 0 0 1 64 0z"  ></path></symbol><symbol id="icon-zidong" viewBox="0 0 1024 1024"><path d="M131.3 363.3c-19.2 47.3-28.9 97.3-28.9 148.7 0 51.3 9.7 101.3 28.9 148.7 7 17.2 15.1 33.8 24.3 49.7l15.8-49.1 42.8 13.8-39.8 123.8-42.8-13.9-80.9-26 13.8-42.8 52.3 16.8c-98-168.4-74.8-387.9 69.4-532.1C342.4 44.7 586.9 30.5 759.1 158.3l-32.2 32.2c-25.1-18-52.1-32.9-80.9-44.6-47.3-19.2-97.3-28.9-148.7-28.9-51.3 0-101.3 9.7-148.7 28.9-49 19.9-92.9 49.1-130.6 86.8s-66.9 81.7-86.7 130.6z m828.3-60.2l13.8-42.8-80.9-26-42.8-13.8-39.8 123.8 42.8 13.8 15-46.7c9.8 16.6 18.4 34 25.8 52.1 19.2 47.3 28.9 97.3 28.9 148.7 0 51.3-9.7 101.3-28.9 148.7-19.9 49-49.1 92.9-86.8 130.6C768.9 829 725 858.2 676 878.1c-47.3 19.2-97.3 28.9-148.7 28.9-51.3 0-101.3-9.7-148.7-28.9-28.8-11.7-55.9-26.6-80.9-44.6l-32.2 32.2c126.3 93.7 382.6 147.7 572.9-42.6 145.8-145.8 167.9-368.6 66.1-537.7l55.1 17.7zM474 241.2L295 730.4h64.8l50.5-148.2h195.3l54 148.2h70.3L539.6 241.2H474z m-45.9 288.3L479.8 386c11-30.9 19.4-62.1 25.4-93.4 6.9 26 17.9 59.9 32.8 101.5l48.2 135.5H428.1z" fill="" ></path></symbol><symbol id="icon-quanping" viewBox="0 0 1024 1024"><path d="M795.5 192H581c-19.6 0-35.6 15.7-36 35.3-0.4 20.3 16.4 36.7 36.7 36.7h128.4L581 393.1c-14 14-14 36.9 0 50.9s36.9 14 50.9 0L760 315.9v129c0 19.6 15.8 35.6 35.3 36 20.2 0.4 36.7-16.4 36.7-36.7V228.5c0-20.1-16.3-36.5-36.5-36.5zM442.2 760H313.8L443 630.9c14-14 14-36.9 0-50.9s-36.9-14-50.9 0L264 708.1V579c0-19.6-15.8-35.6-35.3-36-20.2-0.4-36.7 16.4-36.7 36.7v215.6c0 20.3 16.4 36.7 36.7 36.7H443c19.6 0 35.6-15.7 36-35.3 0.3-20.3-16.5-36.7-36.8-36.7z"  ></path><path d="M838 136c27.6 0 50 22.4 50 50v652c0 27.6-22.4 50-50 50H186c-27.6 0-50-22.4-50-50V186c0-27.6 22.4-50 50-50h652m0-72H186c-16.4 0-32.4 3.2-47.5 9.6-14.5 6.1-27.6 14.9-38.8 26.1-11.2 11.2-20 24.2-26.1 38.8-6.4 15.1-9.6 31.1-9.6 47.5v652c0 16.4 3.2 32.4 9.6 47.5 6.1 14.5 14.9 27.6 26.1 38.8 11.2 11.2 24.2 20 38.8 26.1 15.1 6.4 31.1 9.6 47.5 9.6h652c16.4 0 32.4-3.2 47.5-9.6 14.5-6.1 27.6-14.9 38.8-26.1 11.2-11.2 20-24.2 26.1-38.8 6.4-15.1 9.6-31.1 9.6-47.5V186c0-16.4-3.2-32.4-9.6-47.5-6.1-14.5-14.9-27.6-26.1-38.8-11.2-11.2-24.2-20-38.8-26.1-15.1-6.4-31.1-9.6-47.5-9.6z"  ></path></symbol><symbol id="icon-lianjieliu" viewBox="0 0 1024 1024"><path d="M280.224 425.856h348.608a29.536 29.536 0 1 0 0-59.072H280.224c-52.448 0-93.152-34.304-93.152-73.856s40.704-73.856 93.152-73.856h140.128C432.096 258.816 468.448 288 512 288s79.904-29.184 91.648-68.928h178.08a29.536 29.536 0 1 0 0-59.072h-179.584C588.896 122.784 553.728 96 512 96s-76.896 26.784-90.112 64H280.224C197.184 160 128 218.272 128 292.928s69.184 132.928 152.224 132.928z"  ></path><path d="M895.936 415.2A96 96 0 1 0 800 512c30.656 0 57.632-14.624 75.2-36.992 10.56 12.064 16.832 26.56 16.832 41.92 0 39.552-40.704 73.856-93.152 73.856H306.016A95.584 95.584 0 0 0 224 544a95.68 95.68 0 0 0-95.232 88.352C89.888 656.224 64 695.424 64 740.928c0 74.656 69.184 132.928 152.224 132.928h241.728A95.808 95.808 0 0 0 544 928a96 96 0 1 0 0-192 95.904 95.904 0 0 0-94.272 78.752H216.224c-52.448 0-93.152-34.304-93.152-73.856 0-17.504 8.32-33.792 21.76-46.72A95.808 95.808 0 0 0 224 736a95.68 95.68 0 0 0 95.008-86.144h479.84c83.072 0 152.224-58.272 152.224-132.928 0.032-41.536-21.824-77.568-55.136-101.728z"  ></path></symbol><symbol id="icon-shuaxin" viewBox="0 0 1024 1024"><path d="M512 919.552c-224.768 0-407.552-182.784-407.552-407.552 0-8.704 0.512-17.408 1.024-26.112l71.68 4.608c-0.512 7.168-0.512 14.336-0.512 21.504 0 185.344 150.528 335.872 335.872 335.872 86.528 0 168.448-32.768 230.912-92.16l49.152 52.224C716.288 880.128 616.96 919.552 512 919.552zM919.552 512h-71.68c0-11.776-0.512-23.552-2.048-35.328-17.92-171.52-161.28-300.544-334.336-300.544-67.584 0-132.096 19.968-187.904 57.344L284.16 174.08c67.072-45.568 145.92-69.632 227.84-69.632 209.408 0 384 156.672 405.504 365.056 1.536 13.824 2.048 28.16 2.048 42.496z" fill="#707070" ></path><path d="M140.288 290.816L28.16 491.52c-3.072 5.12 1.024 11.776 6.656 11.776H258.56c6.144 0 9.728-6.144 6.656-11.776L153.6 290.816c-3.072-5.632-10.752-5.632-13.312 0zM870.4 675.84L758.272 475.136c-3.072-5.12 1.024-11.776 6.656-11.776h223.744c6.144 0 9.728 6.144 6.656 11.776L883.712 675.84c-2.56 5.12-10.24 5.12-13.312 0zM270.336 202.24a35.84 35.84 0 1 0 71.68 0 35.84 35.84 0 1 0-71.68 0zM728.576 784.896a35.84 35.84 0 1 0 71.68 0 35.84 35.84 0 1 0-71.68 0z" fill="#707070" ></path></symbol><symbol id="icon-resize-" viewBox="0 0 1024 1024"><path d="M410.816 673.514667L230.997333 853.333333H384v85.333334H85.333333V640h85.333334v153.002667l179.818666-179.84 60.330667 60.373333z m-53.632-256L170.666667 230.997333V384H85.333333V85.333333h298.666667v85.333334h-153.002667l186.517334 186.517333-60.330667 60.330667z m234.666667-45.696L793.002667 170.666667H640V85.333333h298.666667v298.666667h-85.333334v-153.002667l-201.152 201.173334-60.330666-60.373334z m67.029333 226.709333L853.333333 793.002667V640h85.333334v298.666667H640v-85.333334h153.002667l-194.474667-194.453333 60.352-60.352z"  ></path></symbol><symbol id="icon-guanxitu" viewBox="0 0 1024 1024"><path d="M209.003789 401.084632l29.749895-44.948211 107.843369 71.464421-29.749895 44.894316zM682.469053 546.600421l-14.551579-51.846737 124.496842-35.031579 14.551579 51.846737zM315.068632 812.840421l-40.367158-35.678316 85.692631-96.902737 40.421053 35.732211zM597.962105 390.251789l-46.672842-26.947368 43.11579-74.64421 46.672842 26.947368zM615.639579 728.764632l41.121684-34.816 83.536842 98.735157-41.121684 34.816z" fill="#444A5C" ></path><path d="M501.221053 765.305263c-118.568421 0-215.578947-97.010526-215.578948-215.578947s97.010526-215.578947 215.578948-215.578948 215.578947 97.010526 215.578947 215.578948-97.010526 215.578947-215.578947 215.578947z m0-377.263158c-91.621053 0-161.684211 70.063158-161.684211 161.684211s70.063158 161.684211 161.684211 161.68421 161.684211-70.063158 161.68421-161.68421-75.452632-161.684211-161.68421-161.684211zM167.073684 452.715789c-59.284211 0-107.789474-48.505263-107.789473-107.789473s48.505263-107.789474 107.789473-107.789474 107.789474 48.505263 107.789474 107.789474-48.505263 107.789474-107.789474 107.789473z m0-161.68421c-32.336842 0-53.894737 21.557895-53.894737 53.894737s21.557895 53.894737 53.894737 53.894737 53.894737-21.557895 53.894737-53.894737-26.947368-53.894737-53.894737-53.894737zM253.305263 948.547368c-59.284211 0-107.789474-48.505263-107.789474-107.789473s48.505263-107.789474 107.789474-107.789474 107.789474 48.505263 107.789474 107.789474-48.505263 107.789474-107.789474 107.789473z m0-161.68421c-32.336842 0-53.894737 21.557895-53.894737 53.894737s21.557895 53.894737 53.894737 53.894737 53.894737-21.557895 53.894737-53.894737-21.557895-53.894737-53.894737-53.894737zM856.926316 576.673684c-59.284211 0-107.789474-48.505263-107.789474-107.789473s48.505263-107.789474 107.789474-107.789474 107.789474 48.505263 107.789473 107.789474-48.505263 107.789474-107.789473 107.789473z m0-161.68421c-32.336842 0-53.894737 21.557895-53.894737 53.894737s21.557895 53.894737 53.894737 53.894736 53.894737-21.557895 53.894737-53.894736-21.557895-53.894737-53.894737-53.894737zM662.905263 350.315789C592.842105 350.315789 528.168421 291.031579 528.168421 215.578947s59.284211-134.736842 134.736842-134.736842 134.736842 59.284211 134.736842 134.736842-59.284211 134.736842-134.736842 134.736842z m0-215.578947c-43.115789 0-80.842105 37.726316-80.842105 80.842105s37.726316 80.842105 80.842105 80.842106 80.842105-37.726316 80.842105-80.842106-32.336842-80.842105-80.842105-80.842105zM749.136842 921.6c-43.115789 0-80.842105-37.726316-80.842105-80.842105s37.726316-80.842105 80.842105-80.842106 80.842105 37.726316 80.842105 80.842106-37.726316 80.842105-80.842105 80.842105z m0-107.789474c-16.168421 0-26.947368 10.778947-26.947368 26.947369s10.778947 26.947368 26.947368 26.947368 26.947368-10.778947 26.947369-26.947368-10.778947-26.947368-26.947369-26.947369z" fill="#444A5C" ></path></symbol><symbol id="icon-tupian" viewBox="0 0 1024 1024"><path d="M938.666667 553.92V768c0 64.8-52.533333 117.333333-117.333334 117.333333H202.666667c-64.8 0-117.333333-52.533333-117.333334-117.333333V256c0-64.8 52.533333-117.333333 117.333334-117.333333h618.666666c64.8 0 117.333333 52.533333 117.333334 117.333333v297.92z m-64-74.624V256a53.333333 53.333333 0 0 0-53.333334-53.333333H202.666667a53.333333 53.333333 0 0 0-53.333334 53.333333v344.48A290.090667 290.090667 0 0 1 192 597.333333a286.88 286.88 0 0 1 183.296 65.845334C427.029333 528.384 556.906667 437.333333 704 437.333333c65.706667 0 126.997333 16.778667 170.666667 41.962667z m0 82.24c-5.333333-8.32-21.130667-21.653333-43.648-32.917333C796.768 511.488 753.045333 501.333333 704 501.333333c-121.770667 0-229.130667 76.266667-270.432 188.693334-2.730667 7.445333-7.402667 20.32-13.994667 38.581333-7.68 21.301333-34.453333 28.106667-51.370666 13.056-16.437333-14.634667-28.554667-25.066667-36.138667-31.146667A222.890667 222.890667 0 0 0 192 661.333333c-14.464 0-28.725333 1.365333-42.666667 4.053334V768a53.333333 53.333333 0 0 0 53.333334 53.333333h618.666666a53.333333 53.333333 0 0 0 53.333334-53.333333V561.525333zM320 480a96 96 0 1 1 0-192 96 96 0 0 1 0 192z m0-64a32 32 0 1 0 0-64 32 32 0 0 0 0 64z"  ></path></symbol><symbol id="icon-juhejiedian" viewBox="0 0 1024 1024"><path d="M533.333333 725.333333a64 64 0 1 1-64 64 64 64 0 0 1 64-64m0-85.333333a149.333333 149.333333 0 1 0 149.333334 149.333333 149.333333 149.333333 0 0 0-149.333334-149.333333z" fill="#666666" ></path><path d="M533.333333 277.333333m-106.666666 0a106.666667 106.666667 0 1 0 213.333333 0 106.666667 106.666667 0 1 0-213.333333 0Z" fill="#666666" ></path><path d="M277.333333 320m-106.666666 0a106.666667 106.666667 0 1 0 213.333333 0 106.666667 106.666667 0 1 0-213.333333 0Z" fill="#666666" ></path><path d="M789.333333 320m-106.666666 0a106.666667 106.666667 0 1 0 213.333333 0 106.666667 106.666667 0 1 0-213.333333 0Z" fill="#666666" ></path><path d="M512 341.333333h42.666667v384h-42.666667z" fill="#666666" ></path><path d="M741.290667 357.504l30.165333 30.165333-225.066667 225.066667-30.165333-30.165333z" fill="#666666" ></path><path d="M558.08 582.016l-30.165333 30.165333-228.693334-228.693333 30.165334-30.165333z" fill="#666666" ></path></symbol><symbol id="icon-ziyuan" viewBox="0 0 1024 1024"><path d="M236.615854 752.86913h-0.484162A241.500139 241.500139 0 0 1 0.538332 527.733676a238.78883 238.78883 0 0 1 64.684079-180.011531 242.081134 242.081134 0 0 1 149.025146-74.367324 298.534454 298.534454 0 0 1 596.003751 25.951097V300.95207a221.262156 221.262156 0 0 1 213.031398 233.075715 222.714643 222.714643 0 0 1-221.262156 209.1581h-3.098639a27.500417 27.500417 0 0 1 0-54.904001h2.711309A167.520145 167.520145 0 0 0 968.378705 531.219644a166.261323 166.261323 0 0 0-166.16449-175.363573 151.058627 151.058627 0 0 0-18.204502 1.065157 27.500417 27.500417 0 0 1-30.211725-30.308558 240.822312 240.822312 0 0 0 1.549319-27.306752 243.727285 243.727285 0 0 0-487.357738 0 27.500417 27.500417 0 0 1-27.403584 27.500417 185.627813 185.627813 0 0 0-185.240484 197.538205A186.30564 186.30564 0 0 0 237.100016 697.965129a27.500417 27.500417 0 0 1-0.484162 54.904001z"  ></path><path d="M513.266174 1021.869686a27.500417 27.500417 0 0 1-27.500417-27.403584v-484.162268a27.500417 27.500417 0 1 1 54.904001 0v484.162268a27.403584 27.403584 0 0 1-27.403584 27.403584z"  ></path><path d="M513.266174 1024a27.500417 27.500417 0 0 1-19.366491-8.037094L342.260061 864.129619a27.500417 27.500417 0 1 1 38.732981-38.732981L513.266174 957.766602l130.530147-130.336483a27.500417 27.500417 0 0 1 38.732981 38.732982L532.632664 1015.962906a27.403584 27.403584 0 0 1-19.36649 8.037094z"  ></path></symbol><symbol id="icon-add-select" viewBox="0 0 1024 1024"><path d="M544 213.333333v266.666667H810.666667v64H544V810.666667h-64V544H213.333333v-64h266.666667V213.333333z"  ></path></symbol><symbol id="icon-sami-select" viewBox="0 0 1024 1024"><path d="M810.666667 480v64H213.333333v-64z"  ></path></symbol><symbol id="icon-icon_shuaxin" viewBox="0 0 1024 1024"><path d="M512 938.666667c-55.371852 0-109.226667-10.903704-159.857778-32.237037-48.924444-20.66963-92.823704-50.251852-130.465185-87.988149-37.736296-37.736296-67.318519-81.635556-87.988148-130.465185-21.428148-50.631111-32.237037-104.391111-32.237037-159.857777s10.903704-109.226667 32.237037-159.857778c20.66963-48.924444 50.251852-92.823704 87.988148-130.465185 37.736296-37.736296 81.635556-67.318519 130.465185-87.988149 50.631111-21.428148 104.391111-32.237037 159.857778-32.237037 63.81037 0 125.060741 14.222222 181.854815 42.382223 54.139259 26.832593 102.684444 66.085926 140.325926 113.682963 7.300741 9.197037 5.783704 22.660741-3.508148 29.961481-9.197037 7.300741-22.660741 5.783704-29.961482-3.508148-70.257778-88.936296-175.502222-139.946667-288.711111-139.946667-202.808889 0-367.881481 165.072593-367.881481 367.881482s165.072593 367.881481 367.881481 367.881481 367.881481-165.072593 367.881481-367.881481c0-11.757037 9.576296-21.333333 21.333334-21.333334S922.548148 516.361481 922.548148 528.118519c0 55.371852-10.903704 109.226667-32.237037 159.857777-20.66963 48.924444-50.251852 92.823704-87.988148 130.465185-37.736296 37.736296-81.635556 67.318519-130.465185 87.988149-50.631111 21.428148-104.485926 32.237037-159.857778 32.237037z"  ></path><path d="M817.398519 308.242963c-11.757037 0-21.333333-9.576296-21.333334-21.333333V106.666667c0-11.757037 9.576296-21.333333 21.333334-21.333334s21.333333 9.576296 21.333333 21.333334v180.242963c0 11.757037-9.481481 21.333333-21.333333 21.333333z"  ></path><path d="M817.398519 308.242963H637.155556c-11.757037 0-21.333333-9.576296-21.333334-21.333333s9.576296-21.333333 21.333334-21.333334h180.242963c11.757037 0 21.333333 9.576296 21.333333 21.333334s-9.481481 21.333333-21.333333 21.333333z"  ></path></symbol><symbol id="icon-lianjiezhong" viewBox="0 0 1024 1024"><path d="M883.396923 298.141538a99.721846 99.721846 0 0 1-142.414769 0 103.187692 103.187692 0 0 1 0-144.423384 99.721846 99.721846 0 0 1 142.414769 0 103.187692 103.187692 0 0 1 0 144.423384zM285.144615 760.438154a87.276308 87.276308 0 0 0-124.652307 0 90.269538 90.269538 0 0 0 0 126.385231c34.422154 34.894769 90.230154 34.894769 124.652307 0a90.269538 90.269538 0 0 0 0-126.424616z m482.579693 108.307692a64.472615 64.472615 0 0 1 0-90.269538 62.345846 62.345846 0 0 1 89.00923 0c24.576 24.930462 24.576 65.378462 0 90.269538a62.345846 62.345846 0 0 1-89.00923 0zM294.006154 298.141538a103.187692 103.187692 0 0 0 0-144.423384 99.721846 99.721846 0 0 0-142.454154 0 103.187692 103.187692 0 0 0 0 144.423384 99.721846 99.721846 0 0 0 142.454154 0z m324.214154-196.01723c0 56.438154-45.095385 102.163692-100.745846 102.163692-55.611077 0-100.706462-45.725538-100.706462-102.163692C416.768 45.725538 461.863385 0 517.474462 0c55.650462 0 100.745846 45.725538 100.745846 102.124308zM517.474462 870.793846c-41.747692 0-75.539692 34.264615-75.539693 76.603077 0 42.299077 33.831385 76.603077 75.539693 76.603077 41.747692 0 75.539692-34.264615 75.539692-76.603077 0-42.299077-33.792-76.603077-75.539692-76.603077z m416.768-294.990769c-27.805538 0-50.333538-22.843077-50.333539-51.042462 0-28.199385 22.528-51.042462 50.333539-51.042461 27.844923 0 50.412308 22.843077 50.372923 51.042461 0 28.199385-22.567385 51.081846-50.372923 51.081847zM201.452308 524.8c0-56.398769-45.095385-102.124308-100.745846-102.124308C45.095385 422.596923 0 468.283077 0 524.760615c0 56.398769 45.095385 102.124308 100.706462 102.124308 55.650462 0 100.745846-45.686154 100.745846-102.124308z"  ></path></symbol><symbol id="icon-loading" viewBox="0 0 1024 1024"><path d="M563.2 819.2a102.4 102.4 0 1 1 0 204.8 102.4 102.4 0 0 1 0-204.8z m-320.4608-153.6a128 128 0 1 1 0 256 128 128 0 0 1 0-256z m592.7936 25.6a102.4 102.4 0 1 1 0 204.8 102.4 102.4 0 0 1 0-204.8zM947.2 477.1328a76.8 76.8 0 1 1 0 153.6 76.8 76.8 0 0 1 0-153.6zM128 307.2a128 128 0 1 1 0 256 128 128 0 0 1 0-256z m782.6432-40.6016a51.2 51.2 0 1 1 0 102.4 51.2 51.2 0 0 1 0-102.4zM409.6 0a153.6 153.6 0 1 1 0 307.2 153.6 153.6 0 0 1 0-307.2z m384 153.6a25.6 25.6 0 1 1 0 51.2 25.6 25.6 0 0 1 0-51.2z" fill="#555555" ></path></symbol><symbol id="icon-tupushujuyuan" viewBox="0 0 1024 1024"><path d="M851.456 588.288c-13.312 0-25.6 2.048-37.888 5.12l-90.112-155.648 55.296-31.744c18.944 17.92 44.032 29.184 72.192 29.184 57.344 0 103.936-46.592 103.936-103.936s-46.592-103.936-103.936-103.936c-57.344 0-103.936 46.592-103.936 103.936 0 5.12 0.512 10.24 1.536 15.36l-58.368 33.792-82.944-143.872c26.112-25.088 41.984-59.904 41.984-98.816 0-75.776-61.44-137.216-137.216-137.216s-137.216 61.44-137.216 137.216c0 38.912 15.872 73.728 41.984 98.816l-84.992 146.944-56.832-32.768c1.024-6.144 2.048-12.8 2.048-19.456 0-57.344-46.592-103.936-103.936-103.936-57.344 0-103.936 46.592-103.936 103.936s46.592 103.936 103.936 103.936c26.624 0 51.2-10.24 69.12-26.624l56.32 32.768-88.064 152.576c-11.776-3.584-24.576-5.12-37.888-5.12-75.776 0-137.216 61.44-137.216 137.216s61.44 137.216 137.216 137.216c64.512 0 118.272-44.544 133.12-103.936h173.056v61.44c-40.96 13.824-70.656 52.736-70.656 98.816 0 57.344 46.592 103.936 103.936 103.936s103.936-46.592 103.936-103.936c0-46.08-29.696-84.48-70.656-98.816v-61.44h173.056c14.848 59.904 69.12 103.936 133.12 103.936 75.776 0 137.216-61.44 137.216-137.216s-61.44-137.728-137.216-137.728z m-410.112-450.048c0-38.912 31.744-70.656 70.656-70.656s70.656 31.744 70.656 70.656c0 13.824-4.096 26.624-10.752 37.376-12.288 19.456-33.28 32.256-57.856 33.28h-5.12c-24.576-1.024-45.568-13.824-57.856-33.28-6.144-10.752-9.728-24.064-9.728-37.376z m32.768 132.096c11.776 3.584 24.576 5.12 37.888 5.12s25.6-2.048 37.888-5.12l82.944 143.872-124.416 72.192-118.784-68.608 84.48-147.456z m-301.568 526.336c-38.912 0-70.656-31.744-70.656-70.656 0-38.912 31.744-70.656 70.656-70.656h2.56c24.576 1.024 45.568 13.824 57.856 33.28 1.024 1.536 1.536 2.56 2.56 4.096 5.12 9.728 8.192 20.992 8.192 33.28 0 11.776-3.072 23.552-8.192 33.28-12.288 22.016-35.84 37.376-62.976 37.376z m133.12-103.936c-6.144-25.6-19.456-48.128-37.888-65.536l88.064-152.576 122.88 70.656v146.944h-173.056z m239.616-151.552l120.832-69.632 90.112 155.648c-18.432 17.408-31.744 39.936-37.888 65.536h-173.056v-151.552z m306.176 255.488c-27.136 0-50.688-15.36-62.464-37.376-5.12-9.728-8.192-21.504-8.192-33.28 0-12.288 3.072-23.552 8.192-33.28 0.512-1.536 1.536-3.072 2.56-4.096 12.288-19.456 33.28-32.768 57.856-33.28h2.56c38.912 0 70.656 31.744 70.656 70.656-0.512 38.912-32.256 70.656-71.168 70.656z"  ></path></symbol><symbol id="icon-jiedian" viewBox="0 0 1024 1024"><path d="M882.1914 744.849921c-60.501005 0-112.097749 38.645092-131.425292 92.560342H244.912146c-80.468136 0-145.955927-62.61964-145.955926-139.570043 0-77.000371 65.487791-139.570043 145.955926-139.570043h136.312143c19.497433 53.585462 70.934281 91.950735 131.205434 91.950735 60.241173 0 111.688014-38.375266 131.205434-91.950735h136.452052C914.210763 558.280171 1023.340425 453.92743 1023.340425 325.660102S914.210763 93.040033 780.077216 93.040033H273.093982c-19.197627-54.165089-70.944274-93.040033-131.595182-93.040033C64.508422 0 1.928757 62.569672 1.928757 139.560049c0 76.950403 62.579665 139.570043 139.570043 139.570043 60.640915 0 112.377569-38.894931 131.585189-93.040033h506.993227c80.468136 0 145.955927 62.61964 145.955927 139.570043 0 77.000371-65.487791 139.570043-145.955927 139.570043H644.414655c-18.887826-54.734722-70.924287-94.139324-131.974938-94.139325-61.090625 0-113.097105 39.394609-131.974938 94.139325H244.912146c-134.133547 0-243.263209 104.352741-243.263209 232.620069 0 128.267328 109.129663 232.620069 243.263209 232.620069h505.524174c19.057717 54.394941 70.9043 93.529717 131.75508 93.529717 76.950403 0 139.570043-62.61964 139.570043-139.570043 0.009994-77.000371-62.61964-139.580036-139.570043-139.580036zM141.428845 207.036558c-37.166045 0-67.376574-30.230515-67.376574-67.376573 0-37.166045 30.210528-67.376574 67.376574-67.376574 37.146058 0 67.376574 30.210528 67.376573 67.376574 0 37.146058-30.230515 67.376574-67.376573 67.376573z m371.000878 236.257725c37.146058 0 67.376574 30.210528 67.376574 67.376574 0 37.146058-30.230515 67.376574-67.376574 67.376573-37.166045 0-67.376574-30.230515-67.376574-67.376573 0.009994-37.176039 30.210528-67.376574 67.376574-67.376574z m369.761677 508.502254c-37.166045 0-67.376574-30.230515-67.376574-67.376573 0-37.166045 30.210528-67.376574 67.376574-67.376574 37.146058 0 67.376574 30.210528 67.376574 67.376574 0 37.146058-30.230515 67.376574-67.376574 67.376573z"  ></path></symbol><symbol id="icon-shitujiedianxianshi" viewBox="0 0 1367 1024"><path d="M1235.403267 512.03593a130.596433 130.596433 0 0 0-42.68749 7.796802l-193.295715-290.430872A149.113837 149.113837 0 1 0 724.647767 149.48464a151.777744 151.777744 0 0 0 37.229729 97.849864l-194.920048 357.873209a220.519548 220.519548 0 0 0-55.162374-8.511508 207.914718 207.914718 0 0 0-114.807909 34.046035L240.401393 443.683967a126.763005 126.763005 0 0 0-75.564005-182.380192 127.737605 127.737605 0 1 0 12.99467 239.816633l157.625345 188.422713A213.307506 213.307506 0 1 0 643.23616 643.282096l190.956674-350.856087a164.187654 164.187654 0 0 0 39.56877 6.172468 143.591102 143.591102 0 0 0 60.555162-12.99467l192.516034 288.026859a121.760057 121.760057 0 0 0-18.582377 64.973349 128.127445 128.127445 0 1 0 127.152844-126.568085zM129.621832 448.362048a68.157044 68.157044 0 1 1 68.157044-68.092071A68.157044 68.157044 0 0 1 129.621832 448.362048z m528.948039 365.670011a145.86517 145.86517 0 1 1-145.86517-145.86517 145.86517 145.86517 0 0 1 145.86517 145.86517z m215.12676-577.937944a87.389155 87.389155 0 1 1 87.389155-87.389155 87.389155 87.389155 0 0 1-87.389155 87.389155z m365.085251 474.305451a68.157044 68.157044 0 1 1 68.222017-68.416937 68.157044 68.157044 0 0 1-68.222017 68.157044z"  ></path></symbol><symbol id="icon-shituxianshiquanbujiedian" viewBox="0 0 1367 1024"><path d="M1235.403267 512.03593a130.596433 130.596433 0 0 0-42.68749 7.796802l-193.295715-290.430872A149.113837 149.113837 0 1 0 724.647767 149.48464a151.777744 151.777744 0 0 0 37.229729 97.849864l-194.920048 357.873209a220.519548 220.519548 0 0 0-55.162374-8.511508 207.914718 207.914718 0 0 0-114.807909 34.046035L240.401393 443.683967a126.763005 126.763005 0 0 0-75.564005-182.380192 127.737605 127.737605 0 1 0 12.99467 239.816633l157.625345 188.422713A213.307506 213.307506 0 1 0 643.23616 643.282096l190.956674-350.856087a164.187654 164.187654 0 0 0 39.56877 6.172468 143.591102 143.591102 0 0 0 60.555162-12.99467l192.516034 288.026859a121.760057 121.760057 0 0 0-18.582377 64.973349 128.127445 128.127445 0 1 0 127.152844-126.568085zM129.621832 448.362048a68.157044 68.157044 0 1 1 68.157044-68.092071A68.157044 68.157044 0 0 1 129.621832 448.362048z m528.948039 365.670011a145.86517 145.86517 0 1 1-145.86517-145.86517 145.86517 145.86517 0 0 1 145.86517 145.86517z m215.12676-577.937944a87.389155 87.389155 0 1 1 87.389155-87.389155 87.389155 87.389155 0 0 1-87.389155 87.389155z m365.085251 474.305451a68.157044 68.157044 0 1 1 68.222017-68.416937 68.157044 68.157044 0 0 1-68.222017 68.157044z"  ></path></symbol><symbol id="icon-suoxiao" viewBox="0 0 1024 1024"><path d="M768 448a320 320 0 1 0-320 320 320 320 0 0 0 320-320z m64 0A384 384 0 1 1 448 64a384 384 0 0 1 384 384z"  ></path><path d="M681.28 726.72a32 32 0 0 1 45.44-45.44l160 160a32 32 0 0 1-45.44 45.44zM288 480a32 32 0 0 1 0-64h320a32 32 0 0 1 0 64z"  ></path></symbol><symbol id="icon-lianjie" viewBox="0 0 1024 1024"><path d="M922.243 97.755c11.49 11.489 11.673 30.002 0.547 41.713l-0.547 0.562-109.119 109.1c57.22 78.348 42.673 195.388-35.778 273.839l-92.83 92.585c-11.572 11.54-30.264 11.653-41.97 0.253l-45.746-44.55-18.089 18.086a29.891 29.891 0 0 1-7.171 5.3l48.764 47.489c11.947 11.638 12.06 30.804 0.248 42.585l-95.875 95.629c-77.416 77.417-192.412 92.603-270.72 38.004L144.04 928.245c-11.676 11.673-30.606 11.673-42.282 0-11.49-11.489-11.673-30.002-0.547-41.713l0.547-0.562 109.677-109.657c-55.981-78.335-41.131-194.413 36.833-272.377l92.831-92.585c11.571-11.54 30.263-11.653 41.969-0.254l42.587 41.474a29.935 29.935 0 0 1 3.678-4.741l0.548-0.562 19.54-19.538-44.11-42.957c-11.828-11.522-12.057-30.422-0.6-42.23l0.351-0.355 95.875-95.63c76.927-76.926 190.96-92.408 269.23-39.03L879.961 97.755c11.676-11.673 30.606-11.673 42.282 0zM362.451 474.49l-71.916 71.727-1.884 1.911c-61.822 63.545-67.916 156.289-16.185 208.02C324.72 808.4 418.82 801.655 482.43 738.044l74.422-74.234-194.401-189.32z m129.807-5.04l-20.096 20.094a30.035 30.035 0 0 1-4.643 3.8l63.25 61.595a29.82 29.82 0 0 1 5.113-7.308l0.547-0.561 17.532-17.531-61.703-60.089z m260.889-198.691c-52.254-52.254-146.353-45.509-209.964 18.102l-74.422 74.234 194.4 189.322 71.939-71.75 1.862-1.888c61.822-63.545 67.916-156.29 16.185-208.02z" fill="#333333" ></path></symbol><symbol id="icon-xiantiao" viewBox="0 0 1024 1024"><path d="M827.076923 157.538462a39.384615 39.384615 0 1 1-14.375385 76.051692L233.590154 812.701538a39.384615 39.384615 0 1 1-22.291692-22.291692L790.409846 211.298462A39.384615 39.384615 0 0 1 827.076923 157.538462z" fill="#333333" ></path></symbol></svg>', a = (a = document.getElementsByTagName("script"))[a.length - 1].getAttribute("data-injectcss");
  if (a && !o.__iconfont__svg__cssinject__) {
    o.__iconfont__svg__cssinject__ = !0;
    try {
      document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>");
    } catch (h) {
      console && console.log(h);
    }
  }
  function c() {
    i || (i = !0, s());
  }
  e = function() {
    var h, d, u, b;
    (b = document.createElement("div")).innerHTML = r, r = null, (u = b.getElementsByTagName("svg")[0]) && (u.setAttribute("aria-hidden", "true"), u.style.position = "absolute", u.style.width = 0, u.style.height = 0, u.style.overflow = "hidden", h = u, (d = document.body).firstChild ? (b = h, (u = d.firstChild).parentNode.insertBefore(b, u)) : d.appendChild(h));
  }, document.addEventListener ? ~["complete", "loaded", "interactive"].indexOf(document.readyState) ? setTimeout(e, 0) : (t = function() {
    document.removeEventListener("DOMContentLoaded", t, !1), e();
  }, document.addEventListener("DOMContentLoaded", t, !1)) : document.attachEvent && (s = e, n = o.document, i = !1, (l = function() {
    try {
      n.documentElement.doScroll("left");
    } catch {
      return void setTimeout(l, 50);
    }
    c();
  })(), n.onreadystatechange = function() {
    n.readyState == "complete" && (n.onreadystatechange = null, c());
  });
}(window);
const He = Be, Ae = "2.0.24", j = Symbol(), We = () => window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width, De = () => window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height, Ge = (o) => {
  if (!o)
    return 0;
  let e = 0;
  for (const t of o) {
    const s = t.charCodeAt(0);
    s < 0 || s > 255 ? e += 2 : e++;
  }
  return e;
};
let se = !1;
const Ve = () => {
  try {
    document.createEvent("TouchEvent"), se = !0;
  } catch {
  }
};
Ve();
const _ = (...o) => {
  typeof window < "u" && window.relationGraphDebug && console.log("[relation-graph:debug]", ...o);
}, Re = () => {
  console.log(
    "%c JDK-Plus %c https://jdk.plus %c More info: https://github.com/JDK-Plus %c",
    "background:#35495e ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff",
    "background:#41b883 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff",
    "background:#fff ; padding: 1px; border-radius: 0 3px 3px 0;  color: #41b883",
    "background:transparent"
  ), Ne || console.error(
    "[relation-graph]Please introduce component screenfull, for example:https://cdnjs.cloudflare.com/ajax/libs/screenfull.js/5.1.0/screenfull.min.js"
  ), Ee || console.error(
    "[relation-graph]Please introduce component html2canvas, for example:https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
  );
}, ge = 0, X = {
  getRectPoint(o, e, t, s, n, i, l, r) {
    const a = o + n / 2, c = e + i / 2, h = t + l / 2, d = s + r / 2, u = a < h ? 1 : -1, b = c < d ? 1 : -1;
    if (d === c)
      return { x: a + u * n / 2, y: c };
    const k = Math.abs((h - a) / (d - c)), g = n / i;
    let m = 0, v = 0;
    return k < g ? (m = u * i / 2 * k, v = b * i / 2) : (m = u * n / 2, v = b * n / 2 / k), { x: a + m, y: c + v };
  },
  getRectPointBasic(o, e, t, s, n, i, l, r) {
    const a = o + n / 2, c = e + i / 2, h = t + l / 2, d = s + r / 2;
    let u = d === c ? 0 : (h - a) / (d - c);
    u === 0 && (u = (h - a) / (d - c + 1));
    const b = n / r;
    let k = 0, g = 0, m = "1";
    return -1 * b < u && u < b ? (m = "2", c < d ? (k = i / 2 * u, g = i / 2) : (k = -1 * i / 2 * u, g = -1 * i / 2)) : (a < h ? (k = 1 * n / 2, g = 1 * n / 2 / u) : (k = -1 * n / 2, g = -1 * n / 2 / u), m = "3"), { x: a + k, y: c + g, _case: m };
  },
  getRectJoinPoint(o, e, t, s, n, i, l, r) {
    const a = o + n / 2, c = e + i / 2, h = t + l / 2, d = s + r / 2, u = Math.round(
      Math.atan2(d - c, h - a) * 180 / 3.14
    ) + 135;
    return u >= 0 && u < 90 ? { x: o + n / 2, y: e - 5 } : u >= 90 && u < 180 ? { x: o + n + 5, y: e + i / 2 } : u >= 180 && u < 270 ? { x: o + n / 2, y: e + i + 5 } : { x: o - 5, y: e + i / 2 };
  },
  getRectHJoinPoint(o, e, t, s, n, i, l) {
    const r = i / 2;
    return o + n < t ? { x: o + n + 5, y: e + r } : o + n < t + l ? { x: o - 5, y: e + r } : { x: o - 5, y: e + r };
  },
  getRectVJoinPoint(o, e, t, s, n, i, l, r) {
    const a = n / 2;
    return e + i < s ? { y: e + i + 5, x: o + a } : e + i < s + r ? { y: e - 5, x: o + a } : { y: e - 5, x: o + a };
  },
  getBorderPoint(o, e, t, s, n, i, l, r, a) {
    return a === 0 ? this.getCirclePoint(o, e, t, s, n, i, l, r) : this.getRectPoint(o, e, t, s, n, i, l, r);
  },
  getBorderPoint4MultiLine(o, e, t, s, n, i, l, r, a, c, h, d) {
    return a === 0 ? this.getCirclePoint4MultiLine(
      o,
      e,
      t,
      s,
      n,
      i,
      l,
      r,
      c,
      h,
      d
    ) : this.getRectPoint(o, e, t, s, n, i, l, r);
  },
  getCirclePoint(o, e, t, s, n, i, l, r) {
    const a = t + l / 2, c = s + r / 2, h = o + n / 2, d = e + i / 2, u = a - h;
    if (u === 0)
      return { x: h, y: d - i / 2 * (c < d ? 1 : -1) };
    const k = (c - d) / u, g = Math.sqrt(1 / (1 / (n / 2) ** 2 + k ** 2 / (i / 2) ** 2)) * (a < h ? 1 : -1), m = k * g;
    return { x: h - g, y: d - m };
  },
  getCirclePoint4MultiLine(o, e, t, s, n, i, l, r, a, c, h) {
    a && (h = c - h - 1);
    const d = t + l / 2, u = s + r / 2, b = o + n / 2, k = e + i / 2, g = d - b;
    if (g === 0)
      return { x: b, y: k - i / 2 * (u < k ? 1 : -1) };
    const m = 40 / (c + 1) * (h + 1) - 20, v = u - k, L = Math.sqrt(g ** 2 + v ** 2) * m / g, z = v / g, C = n / 2, W = i / 2, w = d < b ? 1 : -1, E = (-1 * C ** 2 * z * L + C * W * Math.sqrt(W ** 2 + z ** 2 * C ** 2 - L ** 2) / w) / (W ** 2 + C ** 2 * z ** 2), q = z * E + L;
    return { x: b - E, y: k - q };
  },
  getCirclePointBasic(o, e, t, s, n, i, l, r, a) {
    const c = o + n / 2, h = e + i / 2, d = t + l / 2, u = s + r / 2, b = d - c, k = u - h, g = Math.sqrt(b * b + k * k), m = g - a, v = m * b / g * -1, L = m * k / g * -1;
    return { x: d + v, y: u + L };
  },
  getCirclePointPlus(o, e, t, s, n, i, l, r) {
    const a = o + n / 2, c = e + i / 2, h = t + l / 2, d = s + r / 2, u = h - a, b = d - c, k = Math.sqrt(u * u + b * b), g = (k - n / 2) * u / k * -1, m = (k - i / 2) * b / k * -1;
    return { x: h + g, y: d + m };
  },
  getOvalPoint(o, e, t, s, n) {
    return {
      x: o + t * Math.sin(
        (ge + s * (360 / n) + 0) * Math.PI / 180
      ),
      y: e + t * Math.cos(
        (ge + s * (360 / n) + 0) * Math.PI / 180
      ) * -1
    };
  },
  getAngleType(o, e) {
    if (o >= 0 && e >= 0)
      return 1;
    if (o < 0 && e >= 0)
      return 2;
    if (o < 0 && e < 0)
      return 3;
    if (o >= 0 && e < 0)
      return 4;
  },
  getTextAngle(o, e, t, s) {
    let n = Math.atan(Math.abs((s - e) / (t - o))) * 180 / Math.PI;
    return t > o && s > e || (t > o && s < e ? n = -n : t < o && s > e ? n = 180 - n : n = n - 180), Math.abs(n) > 90 && (n = n + 180), Math.round(n);
  },
  getTreePointFromTop(o, e, t, s, n, i) {
    return o ? {
      x: o - 300 + Math.max(600 / ((n === 1 ? 2 : n) - 1), 80) * s,
      y: e + t
    } : {
      x: (i.canvas_width - i.node_width) / 2,
      y: (i.canvas_height - i.node_height) / 2 - 200
    };
  },
  getTreePointFromRight(o, e, t, s, n, i) {
    return o ? {
      x: o - t,
      y: e - 200 + Math.max(400 / ((n === 1 ? 2 : n) - 1), 80) * s
    } : {
      x: (i.canvas_width - i.node_width) / 2 + 300,
      y: (i.canvas_height - i.node_height) / 2
    };
  },
  getTreePointFromBottom(o, e, t, s, n, i) {
    return o ? {
      x: o - 300 + Math.max(600 / ((n === 1 ? 2 : n) - 1), 80) * s,
      y: e - t
    } : {
      x: (i.canvas_width - i.node_width) / 2,
      y: (i.canvas_height - i.node_height) / 2 + 200
    };
  },
  getTreePointFromLeft(o, e, t, s, n, i) {
    return o ? {
      x: o + t,
      y: e - 200 + Math.max(400 / ((n === 1 ? 2 : n) - 1), 80) * s
    } : {
      x: (i.canvas_width - i.node_width) / 2 - 300,
      y: (i.canvas_height - i.node_height) / 2
    };
  },
  analysisNodes(o, e, t, s) {
    e.length > s.max_length && (s.max_length = e.length), t > s.max_deep && (s.max_deep = t);
    const n = {
      level: t,
      all_size: e.length,
      all_strength: 0
    }, i = [];
    e.forEach((r) => {
      r.lot || (r.lot = { childs: [] }), r.lot.eached = !0, r.lot.subling = n, r.lot.level = t, o.push(r);
    });
    let l = 0;
    e.forEach((r) => {
      let a = 0;
      if (r.targetNodes) {
        let c = 0;
        r.targetNodes.forEach((h) => {
          h.lot || (h.lot = { childs: [], eached: !1 }), h.lot.eached || (X.isAllowShowNode(h) ? (h.lot.eached = !0, h.lot.parent = r, h.lot.index_of_parent = c++, r.lot.childs.push(h), i.push(h), a++) : r.lot.childs.push(h));
        });
      }
      r.lot.strength = a > 0 ? a : 1, n.all_strength += r.lot.strength, r.lot.strength_plus = n.all_strength, r.lot.index_of_level = l, r.lot.childs_size = a, l++;
    }), n.all_strength > s.max_strength && (s.max_strength = n.all_strength), i.length > 0 ? this.analysisNodes(
      o,
      i,
      t + 1,
      s
    ) : (o.forEach((r) => {
      r.lot.childs_size && r.lot.childs_size > 0 && (r.lot.strengthWithChilds = 0);
    }), o.forEach((r) => {
      r.lot.childs_size === 0 && (r.lot.strengthWithChilds = 1, this.conductStrengthToParents(r));
    }), this.analysisDataTree([o[0]], 0));
  },
  analysisNodes4Didirectional(o, e, t, s, n) {
    e.length > s.max_length && (s.max_length = e.length), t > s.max_deep && (s.max_deep = t);
    const i = {
      level: t,
      all_size: e.length,
      all_strength: 0
    }, l = [];
    e.forEach((a) => {
      a.lot || (a.lot = { childs: [] }), a.lot.eached = !0, a.lot.subling = i, a.lot.level = t, o.push(a);
    });
    let r = 0;
    e.forEach((a) => {
      let c = 0;
      if (n === 0) {
        let h = 0;
        a.targetNodes.forEach((d) => {
          d.lot || (d.lot = { childs: [], eached: !1 }), d.lot.eached || (X.isAllowShowNode(d) ? (d.lot.eached = !0, d.lot.parent = a, d.lot.index_of_parent = h++, a.lot.childs.push(d), l.push(d), c++) : a.lot.childs.push(d));
        });
      } else if (n === -1) {
        let h = 0;
        a.targetFrom.forEach((d) => {
          d.lot || (d.lot = { childs: [], eached: !1 }), d.lot.eached || (X.isAllowShowNode(d) ? (d.lot.eached = !0, d.lot.parent = a, d.lot.index_of_parent = h++, a.lot.childs.push(d), l.push(d), c++) : a.lot.childs.push(d));
        });
      } else {
        let h = 0;
        a.targetTo.forEach((d) => {
          d.lot || (d.lot = { childs: [], eached: !1 }), d.lot.eached || (X.isAllowShowNode(d) ? (d.lot.eached = !0, d.lot.parent = a, d.lot.index_of_parent = h++, a.lot.childs.push(d), l.push(d), c++) : a.lot.childs.push(d));
        });
      }
      a.lot.strength = c > 0 ? c : 1, i.all_strength += a.lot.strength, a.lot.strength_plus = i.all_strength, a.lot.index_of_level = r, a.lot.childs_size = c, r++;
    }), i.all_strength > s.max_strength && (s.max_strength = i.all_strength), l.length > 0 ? X.analysisNodes4Didirectional(
      o,
      l,
      t + (n === -1 ? -1 : 1),
      s,
      n
    ) : (o.forEach((a) => {
      a.lot.childs_size && a.lot.childs_size > 0 && (a.lot.strengthWithChilds = 0);
    }), o.forEach((a) => {
      a.lot.childs_size === 0 && (a.lot.strengthWithChilds = 1, X.conductStrengthToParents(a));
    }), X.analysisDataTree([o[0]], 0, n));
  },
  conductStrengthToParents(o) {
    o.lot.parent && (o.lot.parent.lot.strengthWithChilds === void 0 && (o.lot.parent.lot.strengthWithChilds = 0), o.lot.parent.lot.strengthWithChilds += 1, this.conductStrengthToParents(o.lot.parent));
  },
  analysisDataTree(o, e, t) {
    t === void 0 && (t = 1);
    const s = [];
    let n = 0;
    o.forEach((i) => {
      (i.lot.level === 0 || t === (i.lot.level && i.lot.level < 0 ? -1 : 1)) && (i.lot.childs_size && i.lot.childs_size > 0 && i.lot.childs.forEach((l) => {
        s.push(l);
      }), i.lot.parent && i.lot.parent.lot.strengthWithChilds_from && n < i.lot.parent.lot.strengthWithChilds_from && (n = i.lot.parent.lot.strengthWithChilds_from), i.lot.strengthWithChilds_from = n, n += i.lot.strengthWithChilds || 0);
    }), s.length > 0 && this.analysisDataTree(s, e + t, t);
  },
  isAllowShowNode(o, e = 0) {
    return o.isShow !== !1 && o.isHide !== !0 && (!o.lot.parent || this.isAllowShowNode(o.lot.parent, e + 1) === !0);
  }
}, Te = (o, e, t, s) => {
  const n = o - t, i = e - s, l = n ** 2, r = i ** 2, a = l + r;
  return Math.sqrt(a);
}, P = X, Oe = (o) => {
  if (o.from === void 0)
    throw new Error(
      `error,line must has option[from]:${JSON.stringify(o)}`
    );
  if (o.to === void 0)
    throw new Error(
      `error,line must has option[to]:${JSON.stringify(o)}`
    );
  if (typeof o.from != "string")
    throw new TypeError(
      `error line from, must be string:${JSON.stringify(o)}`
    );
  if (typeof o.to != "string")
    throw new TypeError(
      `error line to, must be string:${JSON.stringify(o)}`
    );
  const e = {
    seeks_id: "",
    isReverse: !1,
    from: o.from,
    to: o.to,
    text: o.text !== void 0 ? o.text : "",
    color: o.color !== void 0 ? o.color : void 0,
    opacity: o.opacity !== void 0 ? o.opacity : 1,
    fontColor: o.fontColor !== void 0 ? o.fontColor : void 0,
    lineWidth: o.lineWidth !== void 0 ? o.lineWidth : void 0,
    lineShape: o.lineShape !== void 0 ? o.lineShape : void 0,
    styleClass: o.styleClass !== void 0 ? o.styleClass : void 0,
    isHide: o.isHide !== void 0 ? o.isHide : !1,
    arrow: o.arrow !== void 0 ? o.arrow : void 0,
    showStartArrow: o.showStartArrow !== void 0 ? o.showStartArrow : !1,
    disableDefaultClickEffect: o.disableDefaultClickEffect !== void 0 ? o.disableDefaultClickEffect : !1,
    showEndArrow: o.showEndArrow !== void 0 ? o.showEndArrow : !0,
    useTextPath: o.useTextPath !== void 0 ? o.useTextPath : !1,
    isHideArrow: o.isHideArrow !== void 0 ? o.isHideArrow : void 0,
    lineDirection: o.lineDirection !== void 0 ? o.lineDirection : void 0,
    data: o.data !== void 0 ? o.data : {}
  };
  return e.isHideArrow && (e.showEndArrow = !1, e.isHideArrow = !1), e;
}, je = ["arrow", "id", "reverseText", "isReverse"], Fe = (o, e) => {
  o && o.relations.forEach((t) => {
    const s = {};
    Object.keys(t).forEach((n) => {
      je.includes(n) || t[n] !== void 0 && (s[n] = t[n]);
    }), e.push(s);
  });
}, ae = {
  border: "border",
  ltrb: "ltrb",
  tb: "tb",
  lr: "lr"
};
class Je {
  constructor(e, t) {
    this.rootNode = void 0, this.allNodes = [], this.__origin_nodes = [], this.layoutTimes = 0, this.maxLayoutTimes = 300, this.justLayoutSingleNode = !1, this.byNode = !0, this.byLine = !0, this.layoutOptions = e, this.graphOptions = t;
  }
  refresh() {
    this.placeNodes(this.__origin_nodes, this.rootNode);
  }
  placeNodes(e, t) {
    if (!t) {
      _("root is null:", t);
      return;
    }
    _("layout by root:", t), this.__origin_nodes = e, this.rootNode = t;
    let s = 0;
    this.__origin_nodes.forEach((n) => {
      n.lot.placed && s++;
    }), this.analysisNodes(), s === 0 ? this.initNodesPosition() : this.__origin_nodes.forEach((n) => {
      n.fixed !== !0 && (n.lot.placed || (n.x || (n.x = Math.floor(Math.random() * 200) - 100), n.x || (n.y = Math.floor(Math.random() * 200) - 100), n.lot.placed = !0));
    }), _("Start Auto Layout....."), this.autoLayout(!0);
  }
  analysisNodes() {
    this.__origin_nodes.forEach((t) => {
      t.lot.eached = !1, t.lot.notLeafNode = !1, t.lot.childs = [], t.lot.index_of_parent = 0, t.lot.strength = 0, t.lot.placed = !1;
    }), this.allNodes = [];
    const e = {
      max_deep: 1,
      max_length: 1,
      max_strength: 1
    };
    P.analysisNodes4Didirectional(
      this.allNodes,
      [this.rootNode],
      0,
      e,
      0
    );
  }
  initNodesPosition() {
    const e = this.rootNode;
    e.lot.x = -(e.el.offsetWidth || e.width || 60) / 2, e.lot.y = -(e.el.offsetHeight || e.height || 60) / 2, _("root position:", e.lot.x, e.lot.y), _(
      "[layout canvasOffset]",
      this.graphOptions.viewSize,
      this.graphOptions.canvasSize
    ), this.placeRelativePosition(this.rootNode, {
      max_deep: 1,
      max_length: 1,
      max_strength: 1
    }), this.allNodes.forEach((t) => {
      t.fixed !== !0 && P.isAllowShowNode(t) && (t.x = t.lot.x || 50, t.y = t.lot.y || 50, t.lot.placed = !0);
    });
  }
  placeRelativePosition(e, t) {
    let s = 80;
    this.allNodes.forEach((n) => {
      if (n.lot.subling && n.lot.subling.level === 1) {
        s = n.lot.subling.all_size * 20 / Math.PI / 2, s < 80 && (s = 80);
        const i = P.getOvalPoint(
          e.lot.x,
          e.lot.y,
          n.lot.subling.level * s,
          n.lot.strength_plus - n.lot.strength / 2,
          n.lot.subling.all_strength
        );
        n.lot.x = i.x, n.lot.y = i.y;
      }
    }), this.allNodes.forEach((n) => {
      if (n.lot.subling && n.lot.subling.level > 1 && n.lot.parent) {
        const i = n.lot.parent.lot.strength_plus - n.lot.parent.lot.strength, r = (n.lot.parent.lot.strength_plus - i) / (n.lot.parent.lot.childs_size + 1) * (n.lot.index_of_parent + 1), a = P.getOvalPoint(
          e.lot.x,
          e.lot.y,
          (n.lot.subling.level - 1) * 80 + s,
          i + r,
          n.lot.parent.lot.subling.all_strength
        );
        n.lot.x = a.x, n.lot.y = a.y;
      }
    });
  }
  // var ___this = this
  autoLayout(e) {
    if (e && (this.layoutTimes = 0), _("this.layoutTimes:", this.layoutTimes), this.layoutTimes > this.maxLayoutTimes) {
      this.graphOptions.autoLayouting = !1;
      return;
    }
    if (this.graphOptions.autoLayouting = !0, this.layoutTimes++, this.__origin_nodes.forEach((t) => {
      t.Fx = 0, t.Fy = 0;
    }), this.byNode)
      for (const t in this.__origin_nodes) {
        const s = this.__origin_nodes[t];
        if (!(this.justLayoutSingleNode && !s.singleNode) && !s.fixed && s.lot.placed === !0)
          for (const n in this.__origin_nodes) {
            const i = this.__origin_nodes[n];
            i.lot.placed === !0 && t !== n && this.addGravityByNode(s, i);
          }
      }
    if (this.byLine)
      for (const t in this.__origin_nodes)
        this.__origin_nodes[t].fixed || this.__origin_nodes[t].lot.parent && this.addElasticByLine(
          this.__origin_nodes[t].lot.parent,
          this.__origin_nodes[t]
        );
    for (const t in this.__origin_nodes)
      this.applyToNodePosition(this.__origin_nodes[t]);
    window.setTimeout(() => {
      this.autoLayout();
    }, 30);
  }
  stop() {
    this.layoutTimes = 1e3;
  }
  addElasticByLine(e, t) {
    let s = Math.sqrt((e.y - t.y) ** 2 + (e.x - t.x) ** 2);
    s > 1e3 && (s = 1e3);
    const n = s < 30 ? 0 : (s - 30) * 0.05, i = n, l = n, r = (e.x - t.x) / s, a = (e.y - t.y) / s;
    this.addFtoNode(e, r * i * -1, a * i * -1), this.addFtoNode(t, r * l, a * l);
  }
  addGravityByNode(e, t) {
    const s = Math.sqrt(
      (e.y - t.y) ** 2 + (e.x - t.x) ** 2
    ), n = 300;
    let i = s > n ? 0 : (n - s) * 0.03;
    const l = (e.x - t.x) / s, r = (e.y - t.y) / s;
    this.addFtoNode(e, l * i, r * i), this.addFtoNode(t, l * i * -1, r * i * -1);
  }
  getNodeFWeight(e) {
    let t = e.lot.level;
    return t > 7 && (t = 7), t < 0 && (t = 0), (8 - t) / 8;
  }
  addFtoNode(e, t, s) {
    this.justLayoutSingleNode && !e.singleNode || Number.isNaN(t) || Number.isNaN(s) || (t = t / (e.lot.strength || 1), s = s / (e.lot.strength || 1), t > 50 && (t = 50), s > 50 && (s = 50), t < -50 && (t = -50), s < -50 && (s = -50), e.Fx += t, e.Fy += s);
  }
  applyToNodePosition(e) {
    if (e.fixed)
      return;
    const t = Math.round(e.Fx), s = Math.round(e.Fy);
    e.x = e.x + t, e.y = e.y + s, e.Fx = 0, e.Fy = 0;
  }
}
const fe = Je, be = (o) => {
  const e = {
    instanceId: "SeeksGraph",
    debug: !0,
    // UI
    showDebugPanel: !1,
    // UI
    backgrounImage: "",
    // UI
    downloadImageFileName: "",
    // UI
    disableZoom: !1,
    // UI
    disableDragNode: !1,
    // UI
    moveToCenterWhenRefresh: !0,
    // UI
    zoomToFitWhenRefresh: !0,
    // UI
    useAnimationWhenRefresh: !0,
    // UI
    defaultFocusRootNode: !0,
    // UI
    disableNodeClickEffect: !1,
    // UI
    disableLineClickEffect: !1,
    // UI
    allowShowZoomMenu: !0,
    // UI
    allowAutoLayoutIfSupport: !0,
    // UI
    allowShowRefreshButton: !0,
    // UI
    allowShowDownloadButton: !0,
    // UI TODO
    backgrounImageNoRepeat: !1,
    // UI
    allowShowMiniToolBar: !0,
    // UI
    allowSwitchLineShape: !1,
    // UI
    allowSwitchJunctionPoint: !1,
    // UI
    isMoveByParentNode: !1,
    // UI
    defaultExpandHolderPosition: "hide",
    // UI
    defaultNodeColor: "#67C23A",
    // UI
    checkedLineColor: "#FD8B37",
    //  // UI
    defaultNodeFontColor: "#ffffff",
    // UI
    defaultNodeBorderColor: "#90EE90",
    // UI
    defaultNodeBorderWidth: 5,
    // UI
    defaultLineColor: "#dddddd",
    // UI
    defaultLineWidth: 1,
    // UI
    defaultLineShape: 1,
    // UI
    defaultNodeShape: 0,
    // UI
    defaultNodeWidth: void 0,
    // UI
    defaultNodeHeight: void 0,
    // UI
    defaultShowLineLabel: !0,
    // UI
    hideNodeContentByZoom: !1,
    // UI
    defaultJunctionPoint: "border",
    // UI
    disableDragCanvas: !1,
    // UI
    placeSingleNode: !0,
    lineUseTextPath: !1,
    // UI
    viewSize: { width: 300, height: 300 },
    viewELSize: { width: 1300, height: 800, left: 0, top: 100 },
    viewNVInfo: { width: 1300, height: 800, x: 0, y: 100 },
    canvasNVInfo: { width: 1300, height: 800, x: 0, y: 100 },
    // NMViewCenter: { x: 0, y: 0 },
    // NMCanvasCenter: { x: 0, y: 0 },
    defaultLineMarker: {
      markerWidth: 12,
      markerHeight: 12,
      refX: 6,
      refY: 6,
      color: void 0,
      data: "M2,2 L10,6 L2,10 L6,6 L2,2"
    },
    allowShowMiniView: !1,
    // private
    allowShowSettingPanel: !1,
    // private
    allowShowMiniNameFilter: !0,
    // private
    fullscreen: !1,
    // private
    checkedNodeId: "",
    // private
    checkedLineId: "",
    // private
    layouts: [],
    // private
    layoutLabel: "",
    // private
    layoutName: "tree",
    // private
    layoutClassName: "",
    // private
    layoutDirection: "h",
    // private
    autoLayouting: !1,
    // private
    layouter: void 0,
    // private
    isNeedShowAutoLayoutButton: !1,
    // private
    canvasZoom: 100,
    // private
    showSingleNode: !0,
    // private
    showNodeLabel: !0,
    // private
    showNodeShortLabel: !0,
    // private
    // defaultLineMarker: {
    //   markerWidth: 6,
    //   markerHeight: 6,
    //   refX: 3,
    //   refY: 3,
    //   color: undefined,
    //   data: 'M 0 0, V 6, L 4 3, Z'
    // },
    // defaultLineMarker: { // 另一种箭头样式
    //   markerWidth: 15,
    //   markerHeight: 15,
    //   refX: 50,
    //   refY: 7,
    //   color: '#128bed',
    //   data: 'M 14 7 L 1 .3 L 4 7 L .4 13 L 14 7, Z'
    // },
    canvasSize: {
      width: 2e3,
      height: 2e3
    },
    canvasOffset: {
      x: 25,
      y: 27,
      zoom_buff_x: 0,
      zoom_buff_y: 0
    }
  };
  return o.debug === !0 && _("RGOptions:user instance graphSetting:", o), o && Object.keys(o).forEach((s) => {
    const n = o[s];
    if (typeof n == "object") {
      _("RGOptions:user setting object:", s, n);
      const i = e[s];
      if (i)
        if (i && !Array.isArray(i) && n)
          Object.keys(i).forEach((l) => {
            i[l] = n[l];
          });
        else if (Array.isArray(i)) {
          const l = [];
          n.forEach((r) => {
            r && typeof r == "object" ? l.push(JSON.parse(JSON.stringify(r))) : l.push(r);
          }), e[s] = l;
        } else
          e[s] = n;
      else
        _("ignore option:", s);
    } else
      e[s] = n;
  }), (!e.layouts || e.layouts.length === 0) && (e.layouts = [
    {
      label: "中心",
      layoutName: "center",
      layoutDirection: "v"
    }
  ]), Array.isArray(e.layouts) || (e.layouts = [e.layouts]), e.layouts.forEach((s) => {
    Ze(s, e);
  }), e;
}, Ze = (o, e) => {
  if (o.layoutName === "SeeksCenterLayouter" || o.layoutName === "center") {
    o.label === void 0 && (o.label = "中心"), o.layoutClassName === void 0 && (o.layoutClassName = `seeks-layout-${o.layoutName}`), o.layoutDirection === void 0 && (o.layoutDirection = "h"), o.centerOffset_x === void 0 && (o.centerOffset_x = 0), o.centerOffset_y === void 0 && (o.centerOffset_y = 0);
    const t = o;
    t.distance_coefficient === void 0 && (t.distance_coefficient = 1);
  } else if (o.layoutName === "SeeksBidirectionalTreeLayouter" || o.layoutName === "tree") {
    o.label === void 0 && (o.label = "树状"), o.layoutClassName === void 0 && (o.layoutClassName = `seeks-layout-${o.layoutName}`), o.layoutDirection === void 0 && (o.layoutDirection = "h"), o.centerOffset_x === void 0 && (o.centerOffset_x = 0), o.centerOffset_y === void 0 && (o.centerOffset_y = 0);
    const t = o;
    t.from === void 0 && (t.from = "top"), t.levelDistance === void 0 && (t.levelDistance = ""), t.min_per_width === void 0 && (t.min_per_width = 30), t.max_per_width === void 0 && (t.max_per_width = 200), t.min_per_height === void 0 && (t.min_per_height = 100), t.max_per_height === void 0 && (t.max_per_height = 500), (t.from === "top" || t.from === "bottom") && (t.layoutDirection = "v", e.defaultJunctionPoint = "tb", _("set layoutDirection=v"), _("set defaultJunctionPoint=tb")), (t.from === "left" || t.from === "right") && (e.defaultJunctionPoint = "lr", _("set defaultJunctionPoint=lr"));
  } else
    (o.layoutName === "fixed" || o.layoutName === "force") && (e.moveToCenterWhenRefresh = !1, e.zoomToFitWhenRefresh = !1);
}, Ye = (o) => {
  if (o.id === void 0)
    throw new Error(`Node must has option[id]:${JSON.stringify(o)}`);
  const e = {
    seeks_id: -1,
    // initial
    id: o.id,
    text: o.text !== void 0 ? o.text : "",
    type: o.type !== void 0 ? o.type : "node",
    isHide: o.isHide !== void 0 ? o.isHide : !1,
    expanded: o.expanded !== void 0 ? o.expanded : !0,
    junctionPoint: o.junctionPoint !== void 0 ? o.junctionPoint : void 0,
    selected: o.selected !== void 0 ? o.selected : !1,
    styleClass: o.styleClass !== void 0 ? o.styleClass : "",
    nodeShape: o.nodeShape !== void 0 ? o.nodeShape : void 0,
    borderWidth: o.borderWidth !== void 0 ? o.borderWidth : void 0,
    borderColor: o.borderColor !== void 0 ? o.borderColor : void 0,
    fontColor: o.fontColor !== void 0 ? o.fontColor : void 0,
    color: o.color !== void 0 ? o.color : void 0,
    opacity: o.opacity !== void 0 ? o.opacity : 1,
    fixed: o.fixed !== void 0 ? o.fixed : !1,
    width: o.width !== void 0 ? o.width : void 0,
    height: o.height !== void 0 ? o.height : void 0,
    x: o.x !== void 0 ? o.x : 0,
    y: o.y !== void 0 ? o.y : 0,
    offset_x: o.offset_x !== void 0 ? o.offset_x : 0,
    offset_y: o.offset_y !== void 0 ? o.offset_y : 0,
    expandHolderPosition: o.expandHolderPosition !== void 0 ? o.expandHolderPosition : void 0,
    innerHTML: o.innerHTML !== void 0 ? o.innerHTML : void 0,
    html: o.html !== void 0 ? o.html : void 0,
    disableDefaultClickEffect: o.disableDefaultClickEffect !== void 0 ? o.disableDefaultClickEffect : void 0,
    disableDrag: o.disableDrag !== void 0 ? o.disableDrag : !1,
    singleNode: !1,
    data: o.data !== void 0 ? o.data : {},
    isShow: !0,
    Fx: 0,
    Fy: 0,
    targetNodes: [],
    targetFrom: [],
    targetTo: [],
    lot: {
      childs: [],
      parent: void 0,
      eached: !1,
      strength: 0
    },
    el: { offsetWidth: 50, offsetHeight: 50 }
  };
  return e.width !== void 0 && (e.el.offsetWidth = e.width), e.height !== void 0 && (e.el.offsetHeight = e.height), e;
}, Xe = [
  "Fx",
  "Fy",
  "appended",
  "el",
  "targetFrom",
  "targetNodes",
  "targetTo",
  "type",
  "lot",
  "seeks_id"
], Ue = (o) => {
  if (!o)
    return;
  const e = {};
  return Object.keys(o).forEach((t) => {
    Xe.includes(t) || o[t] !== void 0 && (e[t] = o[t]);
  }), e;
};
class qe {
  constructor(e, t) {
    this.levelDistanceArr = [], this.rootNode = void 0, this.allNodes = [], this.__origin_nodes = [], this.layoutOptions = e, this.graphOptions = t, _("new SeeksBidirectionalTreeLayouter:", this.layoutOptions), this.layoutOptions.from || (this.layoutOptions.from = "left"), this.layoutOptions.levelDistance && typeof this.layoutOptions.levelDistance == "string" && (this.levelDistanceArr = this.layoutOptions.levelDistance.split(",").map((s) => Number.parseInt(s)));
  }
  refresh() {
    _(
      "SeeksBidirectionalTreeLayouter:refresh:nodes:",
      this.__origin_nodes.length
    ), this.placeNodes(this.__origin_nodes, this.rootNode);
  }
  analysisNodes4Didirectional(e, t, s, n, i) {
    t.length > n.max_length && (n.max_length = t.length), s > n.max_deep && (n.max_deep = s);
    const l = {
      level: s,
      all_size: t.length,
      all_strength: 0
    }, r = [];
    t.forEach((c) => {
      c.lot || (c.lot = { childs: [] }), c.lot.eached = !0, c.lot.subling = l, c.lot.level = s, e.push(c);
    });
    let a = 0;
    t.forEach((c) => {
      let h = 0;
      if (i === -1) {
        let d = 0;
        c.targetFrom.forEach((u) => {
          u.lot || (u.lot = { childs: [], eached: !1 }), u.lot.eached || (P.isAllowShowNode(u) ? (u.lot.eached = !0, u.lot.parent = c, u.lot.index_of_parent = d++, c.lot.childs.push(u), r.push(u), h++) : c.lot.childs.push(u));
        });
      } else {
        let d = 0;
        c.targetTo.forEach((u) => {
          u.lot || (u.lot = { childs: [], eached: !1 }), u.lot.eached || (P.isAllowShowNode(u) ? (u.lot.eached = !0, u.lot.parent = c, u.lot.index_of_parent = d++, c.lot.childs.push(u), r.push(u), h++) : c.lot.childs.push(u));
        });
      }
      c.lot.strength = h > 0 ? h : 1, l.all_strength += c.lot.strength, c.lot.strength_plus = l.all_strength, c.lot.index_of_level = a, c.lot.childs_size = h, a++;
    }), l.all_strength > n.max_strength && (n.max_strength = l.all_strength), r.length > 0 ? this.analysisNodes4Didirectional(
      e,
      r,
      s + i,
      n,
      i
    ) : (e.forEach((c) => {
      c.lot.childs_size && c.lot.childs_size > 0 && (c.lot.strengthWithChilds = 0);
    }), e.forEach((c) => {
      c.lot.childs_size === 0 && (c.lot.strengthWithChilds = 1, P.conductStrengthToParents(c));
    }), P.analysisDataTree([e[0]], 0, i));
  }
  placeNodes(e, t) {
    if (_("SeeksBidirectionalTreeLayouter:placeNodes"), t)
      _("layout by root:", t);
    else {
      console.error("root is null");
      return;
    }
    this.__origin_nodes = e, this.rootNode = t, e.forEach((n) => {
      n.lot.eached = !1, n.lot.notLeafNode = !1, n.lot.childs = [], n.lot.index_of_parent = 0, n.lot.strength = 0, n.lot.strengthWithChilds_from = 0, n.lot.strengthWithChilds = 0, n.lot.placed = !1;
    }), this.allNodes = [];
    let s = {
      max_deep: 1,
      max_length: 1,
      max_strength: 1
    };
    this.analysisNodes4Didirectional(
      this.allNodes,
      [this.rootNode],
      0,
      s,
      -1
    ), this.placeNodesPosition(this.rootNode, this.allNodes, s), this.allNodes = [], s = {
      max_deep: 1,
      max_length: 1,
      max_strength: 1
    }, this.analysisNodes4Didirectional(
      this.allNodes,
      [this.rootNode],
      0,
      s,
      1
    ), this.placeNodesPosition(this.rootNode, this.allNodes, s);
  }
  placeNodesPosition(e, t, s) {
    if (e.fixed !== !0) {
      const l = this.layoutOptions.centerOffset_x || 0, r = this.layoutOptions.centerOffset_y || 0, a = e.el.offsetWidth || e.width || 60, c = e.el.offsetHeight || e.height || 60;
      e.lot.x = -a / 2 + l, e.lot.y = -c / 2 + r, this.layoutOptions.from === "top" ? e.lot.y -= this.graphOptions.viewSize.height / 2 - c - 100 : this.layoutOptions.from === "bottom" ? e.lot.y += this.graphOptions.viewSize.height / 2 - c - 200 : this.layoutOptions.from === "right" ? e.lot.x += this.graphOptions.viewSize.width / 2 - a - 100 : e.lot.x -= this.graphOptions.viewSize.width / 2 - a - 100, _("graph offset:", l, r), _("create rootNode coordinates:", e.lot.x, e.lot.y), e.x = e.lot.x + 0, e.y = e.lot.y + 0;
    } else
      _("固定位置的rootNode:", e.text, e.x, e.y), e.origin_x === void 0 && (e.origin_x = e.x, e.origin_y = e.y), e.lot.x = e.origin_x, e.lot.y = e.origin_y, e.x = e.lot.x + 0, e.y = e.lot.y + 0, _("固定位置的rootNode:", e.text, e.x, e.y);
    e.lot.placed = !0, this.placeRelativePosition(e, s), t.forEach((l) => {
      if (l.fixed === !0) {
        l.lot.placed = !0;
        return;
      }
      if (!P.isAllowShowNode(l))
        return;
      const r = l.offset_x || 0, a = l.offset_y || 0;
      l.x = l.lot.x + r, l.y = l.lot.y + a, l.lot.placed = !0;
    });
  }
  placeRelativePosition(e, t) {
    const s = this.graphOptions.viewSize.width, n = this.graphOptions.viewSize.height;
    if (this.layoutOptions.from === "left" || this.layoutOptions.from === "right") {
      const i = this.layoutOptions.min_per_height || 80, l = this.layoutOptions.max_per_height || 400, r = this.layoutOptions.min_per_width || 430, a = this.layoutOptions.max_per_width || 650;
      let c = Math.round(
        (s - 10) / (t.max_deep + 2)
      );
      c < r && (c = r), c > a && (c = a);
      let h = Math.round(
        n / (t.max_strength + 1)
      );
      h < i && (h = i), h > l && (h = l), this.allNodes.forEach((d) => {
        d.fixed !== !0 && d.lot.placed !== !0 && d !== e && (this.layoutOptions.from === "right" ? d.lot.x = e.lot.x - this.getLevelDistance(
          d,
          d.lot.subling.level,
          c
        ) : d.lot.x = e.lot.x + this.getLevelDistance(
          d,
          d.lot.subling.level,
          c
        ));
      }), this.allNodes.forEach((d) => {
        d.fixed !== !0 && d.lot.level !== 0 && (d.lot.y = e.lot.y + h * (t.max_strength / -2 + d.lot.strengthWithChilds_from + d.lot.strengthWithChilds / 2));
      });
    } else {
      const i = this.layoutOptions.min_per_height || 250, l = this.layoutOptions.max_per_height || 400, r = this.layoutOptions.min_per_width || 250, a = this.layoutOptions.max_per_width || 500;
      let c = Math.round(
        (s - 10) / (t.max_strength + 2)
      );
      c < r && (c = r), c > a && (c = a);
      let h = Math.round(
        (n - 10) / (t.max_deep + 2)
      );
      h < i && (h = i), h > l && (h = l), this.allNodes.forEach((d) => {
        d.fixed !== !0 && d.lot.placed !== !0 && d !== e && (this.layoutOptions.from === "bottom" ? d.lot.y = e.lot.y - this.getLevelDistance(
          d,
          d.lot.subling.level,
          h
        ) : d.lot.y = e.lot.y + this.getLevelDistance(
          d,
          d.lot.subling.level,
          h
        ));
      }), this.allNodes.forEach((d) => {
        d.fixed !== !0 && d.lot.level !== 0 && (d.lot.x = e.lot.x + c * (t.max_strength / -2 + d.lot.strengthWithChilds_from + d.lot.strengthWithChilds / 2));
      });
    }
  }
  getLevelDistance(e, t, s) {
    const n = Math.abs(t);
    if (this.levelDistanceArr && this.levelDistanceArr.length > 0) {
      let i = 0;
      for (let l = 0; l < n; l++) {
        const r = this.levelDistanceArr[l] || 100;
        i += r;
      }
      return t > 0 ? i : i * -1;
    } else
      return t * s;
  }
}
const Qe = qe;
class Ke extends fe {
  constructor(e, t) {
    super(e, t), this.layoutOptions = e;
  }
  // rootNode: RGNode | undefined = undefined
  // allNodes: RGNode[] = []
  // __origin_nodes: RGNode[] = []
  refresh() {
    _("SeeksCenterLayouter:refresh"), this.placeNodes(this.__origin_nodes, this.rootNode);
  }
  placeNodes(e, t) {
    if (_("SeeksCenterLayouter:placeNodes"), !t) {
      _("root is null:", t);
      return;
    }
    _("layout by root:", t), this.__origin_nodes = e, this.rootNode = t, e.forEach((n) => {
      n.lot.eached = !1, n.lot.notLeafNode = !1, n.lot.childs = [], n.lot.index_of_parent = 0, n.lot.strength = 0, n.lot.placed = !1;
    }), this.allNodes = [];
    const s = {
      max_deep: 1,
      max_length: 1,
      max_strength: 1
    };
    P.analysisNodes4Didirectional(
      this.allNodes,
      [this.rootNode],
      0,
      s,
      0
    ), t.lot.x = -(t.el.offsetWidth || t.width || 60) / 2, t.lot.y = -(t.el.offsetHeight || t.height || 60) / 2, _("root position:", t.lot.x, t.lot.y), this.placeRelativePosition(this.rootNode, s), this.allNodes.forEach((n) => {
      if (n.fixed === !0 || !P.isAllowShowNode(n))
        return;
      const i = n.offset_x || 0, l = n.offset_y || 0;
      n.x = n.lot.x + i, n.y = n.lot.y + l, n.lot.placed = !0;
    }), _("Start Auto Layout.....");
  }
  placeRelativePosition(e, t) {
    const s = this.layoutOptions.distance_coefficient === void 0 ? 1 : this.layoutOptions.distance_coefficient;
    let n = Math.round(
      (this.graphOptions.viewSize.height + this.graphOptions.viewSize.width) / t.max_deep * 0.2
    ) * s;
    _(
      "analyticResult:",
      t,
      n,
      this.layoutOptions.distance_coefficient
    ), n < 150 * s && (n = 150 * s);
    let i = 0;
    this.allNodes.forEach((r) => {
      if (r.lot.subling && r.lot.subling.level === 1) {
        i = Math.round(
          r.lot.subling.all_size * 50 / Math.PI / 2
        ), i < n && (i = n);
        const a = P.getOvalPoint(
          e.lot.x,
          e.lot.y,
          r.lot.subling.level * i,
          r.lot.strength_plus - r.lot.strength / 2,
          r.lot.subling.all_strength
        );
        r.lot.x = a.x, r.lot.y = a.y;
      }
    });
    const l = Math.round(300 * s);
    this.allNodes.forEach((r) => {
      var a;
      if (r.lot.parent && r.lot.subling && r.lot.subling.level > 1) {
        const c = r.lot.parent.lot.strength_plus - r.lot.parent.lot.strength, d = (r.lot.parent.lot.strength_plus - c) / (r.lot.parent.lot.childs_size + 1) * (r.lot.index_of_parent + 1), u = P.getOvalPoint(
          e.lot.x,
          e.lot.y,
          (r.lot.subling.level - 1) * l + i,
          c + d,
          (a = r.lot.parent.lot.subling) == null ? void 0 : a.all_strength
        );
        r.lot.x = u.x, r.lot.y = u.y;
      }
    });
  }
}
const et = Ke;
class tt extends fe {
  constructor(e, t) {
    super(e, t), this.__max_deep = 1, this.__max_length = 1;
  }
  checkMaxDeepAndLength(e, t) {
    e.length > this.__max_length && (this.__max_length = e.length), t > this.__max_deep && (this.__max_deep = t);
    const s = {
      level: t,
      all_size: e.length,
      all_strength: 0
    }, n = [];
    e.forEach((l) => {
      l.lot || (l.lot = { childs: [] }), l.lot.eached = !0, l.lot.subling = s, this.allNodes.push(l);
    });
    let i = 0;
    e.forEach((l) => {
      let r = 0;
      l.targetNodes && (l.targetNodes.forEach((a) => {
        _("child node::", a.type, a.lot.eached), a.lot || (a.lot = { childs: [], eached: !1 }), a.type === "node" && a.targetNodes.length <= 1 ? a.lot.eached || (a.lot.parent = l, a.lot.index_of_p_childs = r, l.lot.childs.push(a), l.lot.eached = !0, n.push(a), r++) : a.lot.notLeafNode = !0;
      }), l.targetNodes.forEach((a) => {
        a.lot.notLeafNode && (a.lot || (a.lot = { childs: [], eached: !1 }), a.lot.eached || (a.lot.parent = l, a.lot.index_of_p_childs = r, l.lot.childs.push(a), l.lot.eached = !0, n.push(a), r++));
      })), l.lot.strength = r > 0 ? r : 1, s.all_strength += l.lot.strength, l.lot.strength_plus = s.all_strength, l.lot.level_index = i, l.lot.childs_size = r, i++;
    }), n.length > 0 && this.checkMaxDeepAndLength(n, t + 1);
  }
  refresh() {
    this.placeNodes(this.__origin_nodes, this.rootNode);
  }
  placeNodes(e, t) {
    if (t)
      _("layout by root:", t);
    else {
      _("root is null:", t);
      return;
    }
    this.__origin_nodes = e, this.rootNode = t, e.forEach((l) => {
      l.lot.eached = !1, l.lot.notLeafNode = !1, l.lot.childs = [], l.lot.parent = void 0, l.lot.index_of_p_childs = 0, l.lot.strength = 0;
    }), this.allNodes = e, _("max before:", this.__max_deep, this.__max_length), _("max after:", this.__max_deep, this.__max_length);
    const s = {
      x: 0,
      y: 0
    }, n = this.allNodes.length;
    let i = n * 90 / Math.PI / 2;
    i < 200 && (i = 200), i > 800 && (i = 800), this.allNodes.forEach((l, r) => {
      const a = P.getOvalPoint(
        s.x,
        s.y,
        i,
        r,
        n
      );
      l.x = a.x, l.y = a.y;
    }), _("Start Auto Layout.....");
  }
}
const ot = tt;
class nt {
  constructor(e, t) {
    this.rootNode = void 0, this.allNodes = [], this.__origin_nodes = [], this.layoutOptions = e, this.graphOptions = t;
  }
  refresh() {
    this.placeNodes(this.__origin_nodes, this.rootNode);
  }
  placeNodes(e, t) {
    if (!t) {
      _("root is null:", t);
      return;
    }
    _("layout by root:", t), this.__origin_nodes = e, this.rootNode = t, e.forEach((n) => {
      n.lot.eached = !1, n.lot.notLeafNode = !1, n.lot.childs = [], n.lot.index_of_parent = 0, n.lot.strength = 0, n.lot.placed = !1;
    }), this.allNodes = [];
    const s = {
      max_deep: 1,
      max_length: 1,
      max_strength: 1
    };
    P.analysisNodes4Didirectional(
      this.allNodes,
      [this.rootNode],
      0,
      s,
      0
    );
  }
}
const ke = (o, e) => {
  e.layoutClassName = o.layoutClassName, e.layoutLabel = o.label, e.layoutName = o.layoutName, e.layoutDirection = o.layoutDirection, o.useLayoutStyleOptions === !0 && (e.defaultExpandHolderPosition = // @ts-ignore
  o.defaultExpandHolderPosition, e.defaultJunctionPoint = o.defaultJunctionPoint, e.defaultNodeColor = o.defaultNodeColor, e.defaultNodeFontColor = o.defaultNodeFontColor, e.defaultNodeBorderColor = o.defaultNodeBorderColor, e.defaultNodeBorderWidth = o.defaultNodeBorderWidth, e.defaultLineColor = o.defaultLineColor, e.defaultLineWidth = o.defaultLineWidth, e.defaultLineShape = o.defaultLineShape, e.defaultNodeShape = o.defaultNodeShape, e.defaultNodeWidth = o.defaultNodeWidth, e.defaultNodeHeight = o.defaultNodeHeight, e.defaultLineMarker = o.defaultLineMarker, e.defaultShowLineLabel = o.defaultShowLineLabel);
  let t;
  return o.layoutName === "SeeksBidirectionalTreeLayouter" || o.layoutName === "tree" ? t = new Qe(o, e) : o.layoutName === "SeeksCenterLayouter" || o.layoutName === "center" ? t = new et(o, e) : o.layoutName === "SeeksCircleLayouter" || o.layoutName === "circle" ? t = new ot(o, e) : o.layoutName === "SeeksForceLayouter" || o.layoutName === "force" ? t = new fe(o, e) : (o.layoutName === "SeeksFixedLayouter" || o.layoutName === "fixed") && (t = new nt(o, e)), e.isNeedShowAutoLayoutButton = o.allowAutoLayoutIfSupport !== !1 && t.autoLayout !== void 0, t;
}, st = (o, e) => {
  const t = e.layouter ? e.layouter.__origin_nodes : [], s = e.layouter ? e.layouter.rootNode : void 0;
  let n = o;
  if (typeof o == "string") {
    for (const i in e.layouts)
      if (i === o) {
        n = i;
        break;
      }
  }
  _("[change layout]switchLayout"), e.layouter = ke(n, e), e.layouter && (e.layouter.__origin_nodes = t, e.layouter.rootNode = s);
};
let it = 0;
class at {
  constructor(e, t) {
    this.instanceId = "", this.listeners = t, this.options = be(e), this.enableDebugLog(this.options.debug), this.instanceId = `RGIns-${it++}`, this.options.instanceId = this.instanceId, _("new RelationGraph:", this);
  }
  enableDebugLog(e) {
    this.options.debug = e, window && (window.relationGraphDebug = e);
  }
  refreshNVAnalysisInfo() {
    _("[interface]refreshNVAnalysisInfo");
  }
  resetViewSize() {
    _("[interface]resetViewSize");
  }
  doLayout() {
    _("[interface]doLayout");
  }
}
let K = { x: 0, y: 0 };
const ee = { x: 0, y: 0 }, te = { x: 0, y: 0 };
let ue, pe;
const ye = (o) => {
  const e = {
    clientX: 0,
    clientY: 0
  };
  if (se) {
    const t = o, s = t.touches || t.targetTouches;
    if (!s)
      throw new Error("error targetTouches");
    e.clientX = s[0].clientX, e.clientY = s[0].clientY;
  } else {
    const t = o;
    e.clientX = t.clientX, e.clientY = t.clientY;
  }
  return e;
}, F = {
  startDrag(o, e, t, s) {
    s ? ue = (n, i, l) => {
      const r = n - te.x, a = i - te.y;
      s(
        r,
        a,
        ee,
        te,
        l
      );
    } : ue = (n, i) => {
      K.x = ee.x + (n - te.x), K.y = ee.y + (i - te.y);
    }, pe = t, K = e, ee.x = K.x, ee.y = K.y, _("[canvas]onDragStart...", se, o);
    try {
      const n = ye(o);
      te.x = n.clientX, te.y = n.clientY, se ? (o.preventDefault(), document.body.addEventListener("touchmove", F.onNodeMove), document.body.addEventListener("touchend", F.onNodeDragend)) : (document.body.addEventListener("mousemove", F.onNodeMove), document.body.addEventListener("mouseup", F.onNodeDragend));
    } catch (n) {
      console.error(n.message);
    }
  },
  onNodeMove(o) {
    const e = ye(o);
    ue(e.clientX, e.clientY, o);
  },
  onNodeDragend(o) {
    se ? (document.body.removeEventListener("touchmove", F.onNodeMove), document.body.removeEventListener("touchend", F.onNodeDragend)) : (document.body.removeEventListener("mousemove", F.onNodeMove), document.body.removeEventListener("mouseup", F.onNodeDragend)), _("Node dragend"), pe && pe(
      K.x - ee.x,
      K.y - ee.y,
      o
    );
  },
  getColorId(o) {
    return o = o.replace("#", ""), o = o.replace("(", ""), o = o.replace(")", ""), o = o.replace(/,/, "-"), o;
  }
}, _e = F;
class lt extends at {
  constructor(e, t) {
    super(e, t), this.graphData = {
      rootNode: void 0,
      nodes: [],
      links: []
    }, this.tmpData = {
      nodes_map: {},
      links_map: {}
    }, this.seeksNodeIdIndex = 0, this.allLineColors = [];
  }
  ready() {
    this.initLayouter(), this.resetViewSize(), this.refreshNVAnalysisInfo();
  }
  setOptions(e, t) {
    this.options = be(e), this.enableDebugLog(this.options.debug), this.options.instanceId = this.instanceId, this.initLayouter(), this.resetViewSize(), this.doLayout(), this.resetViewSize(), t && t(this);
  }
  setLayouter(e) {
    _("setLayouterClass::", e), this.userLayouerClass = e;
  }
  initLayouter() {
    if (this.userLayouerClass)
      _("Use user layouter:", this.userLayouerClass), this.options.layouter = this.userLayouerClass;
    else if (this.options.layouts && this.options.layouts.length > 0) {
      const e = this.options.layouts[0];
      _(
        "[change layout]Create default layouter：",
        this.options.layoutName
      ), e.layouter ? this.options.layouter = e.layouter : this.options.layouter = ke(
        e,
        this.options
      );
    } else
      _("你需要设置layouts来指定当前图谱可以使用的布局器！");
    _("Layouter instance:", this.options.layouter);
  }
  setJsonData(e, t, s) {
    arguments.length === 2 && typeof t == "function" && (s = t, t = !0), this.graphData.nodes = [], this.graphData.links = [], this.tmpData.nodes_map = {}, this.tmpData.links_map = {}, this.graphData.rootNode = void 0, _("set jsonData:", e);
    const n = e.rootId;
    this.loadGraphJsonData(e), n && (this.graphData.rootNode = this.tmpData.nodes_map[n]), !this.graphData.rootNode && this.graphData.nodes.length > 0 && (this.graphData.rootNode = this.graphData.nodes[0]), this.applyNewDataToCanvas(), t && (_("resetViewSize:", t), this.resetViewSize()), setTimeout(() => {
      this.doLayout(), s && s(this);
    }, 500);
  }
  applyNewDataToCanvas() {
    if (this.graphData.rootNode)
      this.options.defaultFocusRootNode && this.setCheckedNode(this.graphData.rootNode.id);
    else
      throw new Error("没有设置根节点[rootId]！也无法获取根节点!");
  }
  appendJsonData(e, t, s) {
    arguments.length === 2 && typeof t == "function" && (s = t, t = !0), _("appendData:", e), this.loadGraphJsonData(e), this.applyNewDataToCanvas(), t && this.doLayout(), s && s(this);
  }
  loadNodes(e) {
    e.forEach((t) => {
      let s = Ye(t), n = !1;
      this.tmpData.nodes_map[s.id] ? s = this.tmpData.nodes_map[s.id] : n = !0, n && (this.tmpData.nodes_map[s.id] = s, this.graphData.nodes.push(s), s.seeks_id = this.seeksNodeIdIndex++);
    });
  }
  loadLines(e) {
    e.forEach((t) => {
      let s = !1, n, i;
      if (typeof t.from == "object" ? n = t.from : n = this.tmpData.nodes_map[t.from], typeof t.to == "object" ? i = t.to : i = this.tmpData.nodes_map[t.to], !n) {
        console.error("找不到from:", t);
        return;
      }
      if (!i) {
        console.error("找不到to:", t);
        return;
      }
      const l = `${n.seeks_id}-${i.seeks_id}`, r = `${i.seeks_id}-${n.seeks_id}`, a = Oe(t);
      let c, h = !1;
      this.tmpData.links_map[l] ? c = this.tmpData.links_map[l] : this.tmpData.links_map[r] ? (c = this.tmpData.links_map[r], h = !0) : (s = !0, c = {
        seeks_id: l,
        fromNode: n,
        toNode: i,
        appended: !1,
        relations: []
      });
      let d = a.arrow;
      a.isHideArrow || (d = this.getLineArrow(a.color)), n.targetNodes || (n.targetNodes = []), i.targetNodes || (i.targetNodes = []), n.targetNodes.includes(i) || n.targetNodes.push(i), i.targetNodes.includes(n) || i.targetNodes.push(n), n.targetTo.includes(i) || n.targetTo.push(i), i.targetFrom.includes(n) || i.targetFrom.push(n), a.seeks_id = `${c.seeks_id}-${c.relations.length}`, a.isReverse = h, a.arrow = d, c.relations.push(a), s && (this.graphData.links.push(c), this.tmpData.links_map[l] = c, c.appended = !1);
    });
  }
  flatNodeData(e, t, s, n) {
    e.forEach((i) => {
      s.push(i), t && n.push({
        from: t.id,
        to: i.id
      });
      const l = i.children;
      l && l.length > 0 && this.flatNodeData(l, i, s, n);
    });
  }
  loadGraphJsonData(e) {
    if (!e.lines) {
      console.error(
        "[relation-graph] For compatibility with older versionsm, Use jsonData.relations as jsonData.lines, It is recommended that you define your data using"
      );
      return;
    }
    const t = [], s = [];
    this.flatNodeData(e.nodes, null, t, s), e.lines.forEach((n) => {
      s.push(n);
    }), this.loadNodes(t), _("Nodes is initialized"), this.loadLines(s);
  }
  getLineArrow(e, t = !1, s = !1) {
    const n = t ? "start-" : "";
    if (s)
      return `${this.options.instanceId}-${n}arrow-checked`;
    if (e) {
      const i = _e.getColorId(e);
      return this.allLineColors.map((l) => l.id).includes(i) || this.allLineColors.push({ id: i, color: e }), `${this.options.instanceId}-${n}arrow-${i}`;
    } else
      return `${this.options.instanceId}-${n}arrow-default`;
  }
  getNodes() {
    return this.graphData.nodes;
  }
  getLinks() {
    return this.graphData.links;
  }
  getGraphJsonData() {
    const e = [], t = [];
    return this.graphData.nodes.forEach((s) => {
      const n = Ue(s);
      n && e.push(n);
    }), this.graphData.links.forEach((s) => {
      Fe(s, t);
    }), {
      rootId: this.graphData.rootNode ? this.graphData.rootNode.id : "",
      nodes: e,
      lines: t
    };
  }
  getGraphJsonOptions() {
    const e = {}, t = [
      "layouter",
      "autoLayouting",
      "canvasNVInfo",
      "canvasOffset",
      "canvasZoom",
      "fullscreen",
      "instanceId",
      "layoutClassName",
      "layoutDirection",
      "layoutLabel",
      "layoutName",
      "resetViewSize",
      "viewELSize",
      "viewNVInfo",
      "viewSize",
      "canvasSize"
    ];
    return Object.keys(this.options).forEach((s) => {
      t.includes(s) || (e[s] = this.options[s]);
    }), e;
  }
  printGraphJsonData() {
    _("graph options:", JSON.stringify(this.getGraphJsonOptions())), _("graph json data:", JSON.stringify(this.getGraphJsonData()));
  }
  setCheckedNode(e) {
    this.options.checkedNodeId = e;
  }
  setCheckedLine(e) {
    this.options.checkedLineId = e;
  }
  selectNode(e, t) {
    e.selected = t;
  }
  getNodeById(e) {
    for (let t = 0; t < this.graphData.nodes.length; t++)
      if (this.graphData.nodes[t].id === e)
        return this.graphData.nodes[t];
  }
  addNodes(e, t = !1) {
    this.loadNodes(e), t && this.doLayout();
  }
  addLines(e, t = !1) {
    this.loadLines(e), t && this.doLayout();
  }
  removeNodeById(e) {
    let t = 0;
    for (let n = 0; n < this.graphData.links.length; n++) {
      const i = this.graphData.links[n];
      (i.fromNode.id === e || i.toNode.id === e) && (this.graphData.links.splice(n, 1), n--, t++);
    }
    _("删除对应的线个数：", e, t);
    let s = 0;
    for (let n = 0; n < this.graphData.nodes.length; n++)
      if (this.graphData.nodes[n].id === e) {
        const i = this.graphData.nodes[n];
        i.targetNodes.forEach((l) => {
          const r = l.targetNodes.indexOf(i);
          r !== -1 && l.targetNodes.splice(r, 1);
        }), this.graphData.nodes.splice(n, 1), delete this.tmpData.nodes_map[i.id], s++;
        break;
      }
    _("删除对应的节点个数：", e, s);
  }
  removeLinkById(e, t) {
    for (let s = 0; s < this.graphData.links.length; s++) {
      const n = this.graphData.links[s];
      (n.fromNode.id === e || n.toNode.id === t) && (this.graphData.links.splice(s, 1), s--);
    }
  }
  setNodePosition(e, t, s) {
    e.x = t, e.y = s;
  }
}
class rt extends lt {
  constructor(e, t) {
    super(e, t);
  }
  setDom(e) {
    this.$dom = e;
  }
  setCanvasDom(e) {
    this.$canvasDom = e;
  }
  fullscreen(e) {
    e === void 0 ? (this.options.fullscreen = !this.options.fullscreen, ce.toggle(this.$dom).then(() => {
      setTimeout(() => {
        this.refreshNVAnalysisInfo();
      }, 1e3);
    })) : (this.options.fullscreen = e, setTimeout(() => {
      this.refreshNVAnalysisInfo();
    }, 1e3));
  }
}
class ct extends rt {
  constructor(e, t) {
    super(e, t), this.zoomCenter_of_newSize = { x: 0, y: 0 };
  }
  zoom(e, t) {
    if (this.options.canvasZoom + e < 10)
      return;
    const s = this.options.canvasZoom + e, n = this.showZoomCenter(e, t);
    if (!n) {
      _("Can not zoom");
      return;
    }
    this.options.canvasOffset.x += n.buff_x, this.options.canvasOffset.y += n.buff_y, this.options.canvasZoom = s, this.refreshNVAnalysisInfo();
  }
  setZoom(e, t) {
    const s = Math.floor(e - this.options.canvasZoom);
    this.zoom(s, t);
  }
  showZoomCenter(e, t) {
    if (!this.$dom)
      return;
    const s = this.options.canvasZoom / 100, n = (this.options.canvasZoom + e) / 100, i = this.analysisByZoom(s, t), l = this.analysisByZoom(n, t), r = n / s, a = 0, c = 0, h = n / s, d = 0, u = 0;
    this.zoomCenter_of_newSize.x = r * i.NMViewBuff.x + c * i.NMViewBuff.y + d, this.zoomCenter_of_newSize.y = a * i.NMViewBuff.x + h * i.NMViewBuff.y + u;
    const b = i.NMViewBuff.x - this.zoomCenter_of_newSize.x, k = i.NMViewBuff.y - this.zoomCenter_of_newSize.y;
    this.zoomCenter_of_newSize.x += i.NMCanvasCenter.x, this.zoomCenter_of_newSize.y += i.NMCanvasCenter.y;
    let g = i.NMCanvasStart.x - i.NMCanvasCenter.x, m = i.NMCanvasStart.y - i.NMCanvasCenter.y, v = r * g + c * m + d, L = a * g + h * m + u;
    return l.NMCanvasStart.x = b + i.NMCanvasCenter.x + v, l.NMCanvasStart.y = b + i.NMCanvasCenter.y + L, g = i.NMCanvasEnd.x - i.NMCanvasCenter.x, m = i.NMCanvasEnd.y - i.NMCanvasCenter.y, v = r * g + c * m + d, L = a * g + h * m + u, l.NMCanvasEnd.x = b + i.NMCanvasCenter.x + v, l.NMCanvasEnd.y = b + i.NMCanvasCenter.y + L, i.NMCanvasOffsetBuff.x = b, i.NMCanvasOffsetBuff.y = k, {
      buff_x: b,
      buff_y: k
    };
  }
  analysisByZoom(e, t) {
    const s = {
      NMViewPosition: { x: 0, y: 0 },
      NMViewCenter: { x: 0, y: 0 },
      NMCanvasCenter: { x: 0, y: 0 },
      NMCanvasStart: { x: 0, y: 0 },
      NMCanvasEnd: { x: 0, y: 0 },
      NMZoomCenter: { x: 0, y: 0 },
      NMViewBuff: { x: 0, y: 0 },
      NMCanvasOffsetBuff: { x: 0, y: 0 },
      NMCanvasSize: { width: 0, height: 0 }
    }, n = We(), i = De(), l = this.$dom.getBoundingClientRect();
    s.NMViewPosition.x = l.left, s.NMViewPosition.y = l.top, l.width + s.NMViewPosition.x > n ? s.NMViewCenter.x = (n - l.left) / 2 : s.NMViewCenter.x = l.width / 2, l.height + s.NMViewPosition.y > i ? s.NMViewCenter.y = (i - l.top) / 2 : s.NMViewCenter.y = l.height / 2;
    const r = this.options.canvasSize.width * e, a = this.options.canvasSize.height * e;
    s.NMCanvasCenter.x = this.options.canvasOffset.x + this.options.canvasSize.width / 2, s.NMCanvasCenter.y = this.options.canvasOffset.y + this.options.canvasSize.height / 2, s.NMCanvasStart.x = s.NMCanvasCenter.x - r / 2, s.NMCanvasStart.y = s.NMCanvasCenter.y - a / 2, s.NMCanvasEnd.x = s.NMCanvasCenter.x + r / 2, s.NMCanvasEnd.y = s.NMCanvasCenter.y + a / 2, s.NMZoomCenter.x = s.NMViewCenter.x, s.NMZoomCenter.y = s.NMViewCenter.y, t && (s.NMZoomCenter.x = t.x - s.NMViewPosition.x, s.NMZoomCenter.y = t.y - s.NMViewPosition.y);
    let c = s.NMViewCenter.x - s.NMCanvasCenter.x, h = s.NMViewCenter.y - s.NMCanvasCenter.y;
    return t && (c = s.NMZoomCenter.x - s.NMCanvasCenter.x, h = s.NMZoomCenter.y - s.NMCanvasCenter.y), s.NMViewBuff.x = c, s.NMViewBuff.y = h, s.NMCanvasSize.width = r, s.NMCanvasSize.height = a, s;
  }
}
class dt extends ct {
  constructor(e, t) {
    super(e, t);
  }
  doLayout() {
    if (!this.options.layouter) {
      _("no layouter");
      return;
    }
    if (!this.graphData.rootNode) {
      _("Cant find rootNode!");
      return;
    }
    _("node size：", this.graphData.nodes.length), this.options.layouter.placeNodes(
      this.graphData.nodes,
      this.graphData.rootNode
    );
  }
  refresh(e) {
    this.resetViewSize(), this.options.layouter && this.options.layouter.refresh(), this.playShowEffect(e);
  }
  resetViewSize() {
    this.options && (_("resetViewSize"), this.options.viewSize.width = this.$dom.getBoundingClientRect().width, this.options.viewSize.height = this.$dom.getBoundingClientRect().height, this.options.canvasZoom = 100, this.options.canvasOffset.x = this.options.viewNVInfo.width / 2, this.options.canvasOffset.y = this.options.viewNVInfo.height / 2, this.refreshNVAnalysisInfo());
  }
  dataUpdated() {
    this.zoom(1), this.zoom(-1);
  }
  refreshNVAnalysisInfo() {
    if (!this.$dom) {
      console.error("cannot get view size !");
      return;
    }
    const e = {
      NMCanvasCenter: { x: 0, y: 0 }
    }, t = this.$dom.getBoundingClientRect();
    this.options.viewNVInfo.x = t.left, this.options.viewNVInfo.y = t.top, this.options.viewNVInfo.width = t.width, this.options.viewNVInfo.height = t.height;
    const s = this.options.canvasSize.width * (this.options.canvasZoom / 100), n = this.options.canvasSize.height * (this.options.canvasZoom / 100);
    e.NMCanvasCenter.x = this.options.canvasOffset.x + this.options.canvasSize.width / 2, e.NMCanvasCenter.y = this.options.canvasOffset.y + this.options.canvasSize.height / 2, this.options.canvasNVInfo.x = e.NMCanvasCenter.x - s / 2, this.options.canvasNVInfo.y = e.NMCanvasCenter.y - n / 2, this.options.canvasNVInfo.width = s, this.options.canvasNVInfo.height = n, this.options.viewELSize.width = t.width, this.options.viewELSize.height = t.height, this.options.viewELSize.left = t.left, this.options.viewELSize.top = t.top;
  }
  getStuffSize() {
    let e = 9999999, t = 9999999, s = 0, n = 0;
    this.graphData.nodes.forEach((a) => {
      a.x < e && (e = a.x), a.x > s && (s = a.x + a.el.offsetWidth), a.y < t && (t = a.y), a.y > n && (n = a.y + a.el.offsetHeight);
    });
    const i = 100, l = s - e + i, r = n - t + i;
    return {
      width: l,
      height: r,
      minX: e,
      maxX: s,
      minY: t,
      maxY: n
    };
  }
  getNodesCenter() {
    const e = this.getStuffSize();
    _("getStuffSize:", e);
    const t = e.minX + (e.width - 100) / 2, s = e.minY + (e.height - 100) / 2;
    return {
      x: t,
      y: s
    };
  }
  setCanvasCenter(e, t) {
    const s = this.options.viewSize.width / 2, n = this.options.viewSize.height / 2;
    this.setCanvasOffset(s - e, n - t);
  }
  setCanvasOffset(e, t) {
    this.options.canvasOffset.x = e, this.options.canvasOffset.y = t;
  }
  playShowEffect(e) {
    if (this.graphData.nodes.length === 0) {
      _("relation-graph:move to center: data not ready!");
      return;
    }
    if (_(
      "playShowEffect:",
      this.options.moveToCenterWhenRefresh,
      this.options.zoomToFitWhenRefresh
    ), this.options.moveToCenterWhenRefresh)
      if (this.options.useAnimationWhenRefresh) {
        const t = this.getNodesCenter();
        _("center:", t.x, t.y);
        const s = this.options.viewSize.width / 2 - t.x, n = this.options.viewSize.height / 2 - t.y;
        this.animateGoto(s, n, 500, () => {
          this.zoomToFitWhenRefresh(e);
        });
      } else {
        const t = this.getNodesCenter();
        this.setCanvasCenter(t.x, t.y), this.zoomToFitWhenRefresh(e);
      }
    else
      this.zoomToFitWhenRefresh(e);
    if (!this.graphData.rootNode || Number.isNaN(this.graphData.rootNode.x)) {
      _("rootNode.x is NaN, graph is currently hidden?");
      return;
    }
    this.options.placeSingleNode && this.options.layoutName !== "fixed" && this.placeSingleNode();
  }
  zoomToFitWhenRefresh(e) {
    this.options.zoomToFitWhenRefresh ? this.zoomToFit(e) : e && e(this);
  }
  findChilds(e, t) {
    t.push(e), e.targetNodes.forEach((s) => {
      t.includes(s) || this.findChilds(s, t);
    });
  }
  placeSingleNode() {
    const e = [];
    this.findChilds(this.graphData.rootNode, e);
    const t = [];
    if (this.graphData.nodes.forEach((s) => {
      e.includes(s) || s.targetNodes && s.targetNodes.length === 0 && s.fixed !== !0 && (s.x = Math.floor(Math.random() * 200) - 100, s.y = Math.floor(Math.random() * 200) - 100, s.lot || (s.lot = { childs: [] }), s.lot.placed = !0, t.push(s));
    }), t.length > 0) {
      _("sigle nodes:", t.length);
      const s = new fe({ layoutName: "fixed" }, {});
      s.__origin_nodes = this.graphData.nodes, s.justLayoutSingleNode = !0, s.maxLayoutTimes = 100, s.byLine = !1, s.autoLayout();
    }
  }
  zoomToFit(e) {
    const t = this.getStuffSize(), s = this.options.viewSize.width / t.width, n = this.options.viewSize.height / t.height, i = Math.min(s, n, 1);
    _("animateToZoom:", {
      stuffSize: t,
      zoomPercent: i,
      zoomPercentX: s,
      zoomPercentY: n,
      viewSize: this.options.viewSize
    }), this.options.useAnimationWhenRefresh ? this.animateToZoom(i * 100, 300, e) : (this.setZoom(i * 100), e && e(this));
  }
  animateGoto(e, t, s, n) {
    _("animateGoto:", e, t);
    const i = e - this.options.canvasOffset.x, l = t - this.options.canvasOffset.y, r = s, a = 5, c = Math.round(i / a), h = Math.round(l / a), d = r / a;
    this.animateStepAction(
      0,
      d,
      a,
      () => {
        this.options.canvasOffset.x += c, this.options.canvasOffset.y += h;
      },
      () => {
        n && n(this);
      }
    );
  }
  animateToZoom(e, t, s) {
    const n = e - this.options.canvasZoom, i = t, l = 5, r = Math.round(n / l), a = i / l;
    _("animateToZoom:", n, r), this.animateStepAction(
      0,
      a,
      l,
      () => {
        this.zoom(r);
      },
      () => {
        this.setZoom(e), s && s(this);
      }
    );
  }
  animateStepAction(e, t, s, n, i) {
    e < s ? (n(e, s), setTimeout(() => {
      this.animateStepAction(
        e + 1,
        t,
        s,
        n,
        i
      );
    }, t)) : i();
  }
  startAutoLayout() {
    this.options.autoLayouting = !this.options.autoLayouting, this.options.layouter && (this.options.autoLayouting ? this.options.layouter.autoLayout ? this.options.layouter.autoLayout(!0) : console.log("当前布局不支持自动布局！") : this.options.layouter.stop ? this.options.layouter.stop() : console.log("当前布局不支持自动布局stop！"));
  }
  stopAutoLayout() {
    this.options.autoLayouting = !1, this.options.layouter && (this.options.layouter.stop ? this.options.layouter.stop() : console.log("当前布局不支持自动布局stop！"));
  }
}
class ht extends dt {
  constructor(e, t) {
    super(e, t);
  }
  setDefaultLineShape(e) {
    this.options.defaultLineShape = e;
  }
  setDefaultJunctionPoint(e) {
    this.options.defaultJunctionPoint = e;
  }
  updateNodeOffsetSize(e, t, s) {
    e.el.offsetWidth = t, e.el.offsetHeight = s;
  }
  onNodeClick(e, t) {
    _("onNodeClick:", e), this.options.disableNodeClickEffect !== !0 && e.disableDefaultClickEffect !== !0 && this.setCheckedNode(e.id), this.listeners["on-node-click"] && this.listeners["on-node-click"](e, t);
  }
  onLineClick(e, t, s) {
    _("onLineClick:", "line:", e, "link:", t), this.options.disableLineClickEffect !== !0 && e.disableDefaultClickEffect !== !0 && (this.setCheckedLine(t.seeks_id), this.selectNode(t.fromNode, !0), this.selectNode(t.toNode, !0), setTimeout(() => {
      this.selectNode(t.fromNode, !1), this.selectNode(t.toNode, !1);
    }, 2e3)), this.listeners["on-line-click"] && this.listeners["on-line-click"](e, t, s);
  }
  expandOrCollapseNode(e, t) {
    e.expanded === !1 ? this.expandNode(e, t) : this.collapseNode(e, t);
  }
  expandNode(e, t) {
    _("onNodeExpand:", e), e.expanded = !0, e.lot.childs.forEach((s) => {
      s.isShow = !0;
    }), this.listeners["on-node-expand"] && this.listeners["on-node-expand"](e, t);
  }
  collapseNode(e, t) {
    _("onNodeCollapse:", e), e.expanded = !1, e.lot.childs.forEach((s) => {
      s.isShow = !1;
    }), this.listeners["on-node-collapse"] && this.listeners["on-node-collapse"](e, t);
  }
  focusRootNode() {
    _("relation-graph:focusRootNode"), this.graphData.rootNode && this.handleSelect(this.graphData.rootNode);
  }
  focusNodeById(e) {
    this.graphData.nodes.forEach((t) => {
      t.id === e && this.handleSelect(t);
    });
  }
  querySearchAsync(e, t) {
    if (_("fetch-suggestions", e), e = e.trim(), e === "")
      return;
    const s = [];
    this.graphData.nodes.forEach((n) => {
      _("fetch:", n.text), n.text.includes(e) && s.push(n);
    }), _("fetched:", s.length), t(s);
  }
  handleSelect(e) {
    _("checked:", e), scrollTo({
      top: this.$dom.offsetTop
    }), this.animateToZoom(100, 300, () => {
      const t = e.width || 50, s = e.height || 50, n = e.x * -1 + this.options.viewSize.width / 2 - t / 2, i = e.y * -1 + this.options.viewSize.height / 2 - s / 2;
      this.animateGoto(n, i, 500, () => {
        this.options.checkedNodeId = e.id, this.refreshNVAnalysisInfo();
      });
    });
  }
}
class ft extends ht {
  constructor(e, t) {
    super(e, t);
  }
  dataURLToBlob(e) {
    const t = e.split(","), s = t[0].match(/:(.*?);/)[1], n = atob(t[1]);
    let i = n.length;
    const l = new Uint8Array(i);
    for (; i--; )
      l[i] = n.charCodeAt(i);
    return new Blob([l], { type: s });
  }
  downloadAsImage(e, t = "png") {
    if (this.listeners["on-image-download"] && this.listeners["on-image-download"](
      this.$canvasDom,
      t
    ) === !1)
      return;
    if (this.graphData.nodes.length === 0)
      throw new Error("没有节点，没有内容需要导出！");
    t || (t = "png"), e || (e = this.options.downloadImageFileName), e || (e = `SeeksRelationGraph-${(Math.random() * 1e5).toFixed(0)}`), this.options.checkedNodeId = "";
    const s = this.options.canvasZoom;
    this.options.canvasZoom = 100;
    const n = this.$canvasDom, i = n.clientWidth, l = n.clientHeight;
    let r = 999999, a = 999999, c = 0, h = 0;
    const d = 100;
    this.graphData.nodes.forEach((w) => {
      w.x < r && (r = w.x), w.x > c && (c = w.x + w.el.offsetWidth), w.y < a && (a = w.y), w.y > h && (h = w.y + w.el.offsetHeight);
    });
    const u = r - d, b = a - d;
    this.graphData.nodes.forEach((w) => {
      w.x = w.x - u, w.y = w.y - b;
    });
    const k = this.options.canvasOffset.x, g = this.options.canvasOffset.y;
    this.options.canvasOffset.x = d * -1, this.options.canvasOffset.y = d * -1, _("offset:", {
      _origin_offset_x: k,
      _origin_offset_y: g,
      _min_x: r,
      _min_y: a,
      _max_x: c,
      _max_y: h
    });
    const m = c - r + 200 + d * 2, v = h - a + 100 + d * 2, L = window.devicePixelRatio;
    this.options.canvasSize.width = m * L, this.options.canvasSize.height = v * L;
    const z = {
      left: this.$dom.offsetLeft - n.getBoundingClientRect().left,
      top: this.$dom.offsetTop - n.getBoundingClientRect().top,
      canvas_offsetLeft: n.offsetLeft,
      canvas_offsetTop: n.offsetTop,
      canvas_left: n.getBoundingClientRect().left,
      canvas_top: n.getBoundingClientRect().top
    };
    window.scrollTo(0, 0), _("export image:", {
      relationGraphPosition: z,
      orign_width: i,
      orign_height: l,
      _image_width: m,
      _image_height: v,
      _min_x: r,
      _min_y: a,
      _max_x: c,
      _max_y: h,
      devicePixelRatio: window.devicePixelRatio
    });
    const C = document.createElement("canvas");
    C.width = m * L, C.height = v * L, C.style.backgroundColor = getComputedStyle(
      n.parentElement,
      null
    ).backgroundColor, _("canvas.style.backgroundColor:", C.style.backgroundColor), C.style.width = `${m * L}px`, C.style.height = `${v * L}px`, C.getContext("2d").scale(1, 1);
    const W = {
      backgroundColor: C.style.backgroundColor,
      scale: L,
      // 添加的scale 参数
      canvas: C,
      // 自定义 canvas
      logging: !0,
      // 日志开关，便于查看html2canvas的内部执行流程
      // windowWidth: _image_width,
      // windowHeight: _image_height,
      width: m,
      // dom 原始宽度
      height: v,
      // x: relationGraphPosition.left,
      // y: relationGraphPosition.top,
      useCORS: !0
      // 【重要】开启跨域配置
    };
    setTimeout(() => {
      this.createImage(n, W, t, e, () => {
        this.options.canvasSize.width = i, this.options.canvasSize.height = l, this.options.canvasOffset.x = k, this.options.canvasOffset.y = g, this.options.canvasZoom = s, this.graphData.nodes.forEach((w) => {
          w.x = w.x + u, w.y = w.y + b;
        });
      });
    }, 1e3);
  }
  createImage(e, t, s, n, i) {
    _("html2canvas:", t, s, n), Ie(e, t).then((l) => {
      const r = document.body.appendChild(l);
      r.style.display = "none";
      const a = this.dataURLToBlob(r.toDataURL(`image/${s}`));
      document.body.removeChild(r);
      const c = document.createElement("a");
      c.style.display = "none";
      try {
        window.navigator.msSaveOrOpenBlob ? window.navigator.msSaveOrOpenBlob(a, `${n}.${s}`) : (c.setAttribute("href", URL.createObjectURL(a)), c.setAttribute("download", `${n}.${s}`), document.body.appendChild(c), c.click(), _("click ok!"), URL.revokeObjectURL(a), _("revokeObjectURL ok!"), document.body.removeChild(c), _("removeChild ok!")), i && i();
      } catch (h) {
        _("[SEEKS Graph]Create and download image error:", h);
      }
    });
  }
}
class ut extends ft {
  constructor(e, t) {
    super(e, t);
  }
  createReturnValue(e, t) {
    return { path: e, textPosition: t };
  }
  createLinePath(e, t, s) {
    const n = e.fromNode, i = e.toNode;
    s || (s = 0);
    const l = t.lineShape || this.options.defaultLineShape || 1, r = t.lineDirection || this.options.layoutDirection || "h";
    let a = n.x, c = n.y, h = i.x, d = i.y;
    const u = { x: 0, y: 0, rotate: 0 };
    if (Number.isNaN(a) || Number.isNaN(c))
      return _("error start node:", n), u.x = 50, u.y = 50, u.rotate = 0, this.createReturnValue("M 0 0 L 100 100", u);
    if (Number.isNaN(h) || Number.isNaN(d))
      return _("error start point:", n), u.x = 50, u.y = 50, u.rotate = 0, this.createReturnValue("M 0 0 L 100 100", u);
    let b = n.el.offsetWidth || n.width || 60, k = n.el.offsetHeight || n.height || 60;
    if (Number.isNaN(b) || Number.isNaN(k))
      return u.x = 50, u.y = 50, u.rotate = 0, this.createReturnValue("M 0 0 L 100 100", u);
    let g = i.el.offsetWidth || i.width || 60, m = i.el.offsetHeight || i.height || 60;
    if (Number.isNaN(g) || Number.isNaN(m))
      return u.x = 50, u.y = 50, u.rotate = 0, this.createReturnValue("M 0 0 L 100 100", u);
    t.isReverse && ([a, c, h, d, b, k, g, m] = [
      h,
      d,
      a,
      c,
      g,
      m,
      b,
      k
    ]);
    const v = [
      a,
      c,
      h,
      d,
      b,
      k,
      g,
      m,
      this.options.defaultNodeShape,
      t.isReverse,
      e.relations.length,
      s
    ], L = [
      h,
      d,
      a,
      c,
      g,
      m,
      b,
      k,
      this.options.defaultNodeShape,
      !t.isReverse,
      e.relations.length,
      s
    ];
    let z, C, W = this.options.defaultJunctionPoint;
    if (W || (W = ae.border), W === ae.border ? (z = P.getBorderPoint4MultiLine(...v), C = P.getBorderPoint4MultiLine(...L)) : W === ae.ltrb ? (z = P.getRectJoinPoint(...v), C = P.getRectJoinPoint(...L)) : W === ae.tb ? (z = P.getRectVJoinPoint(...v), C = P.getRectVJoinPoint(...L)) : W === ae.lr && (z = P.getRectHJoinPoint(...v), C = P.getRectHJoinPoint(...L)), !z || !C)
      return this.createReturnValue(
        "Can not create start and end!",
        u
      );
    const w = z.x, E = z.y, q = C.x, ie = C.y;
    if (Number.isNaN(w) || Number.isNaN(E))
      return console.error("error start point:", n), u.x = 50, u.y = 50, u.rotate = 0, this.createReturnValue("M 0 0 L 100 100", u);
    if (Number.isNaN(q) || Number.isNaN(ie))
      return console.error("error end point:", i), u.x = 50, u.y = 50, u.rotate = 0, this.createReturnValue("M 0 0 L 100 100", u);
    let $ = C.x - z.x, S = C.y - z.y, I = C.x > z.x ? 1 : -1;
    r === "v" && (I = C.y > z.y ? 1 : -1);
    let G = "";
    if (l === 4) {
      const B = 60 / (e.relations.length + 1) * (s + 1) - 30;
      r === "v" ? (S = S - (I * 33 + B), u.x = w + $ + 5, u.y = E + I * 40 + B, u.rotate = 90, G = `M ${w} ${E} v${I * 33 + B} h${$ + B} v${S}`) : t.reverseText === !0 ? (u.x = w + I * 10 - (I < 0 ? 30 : 0), u.y = E - 5, $ = $ - I * 120, G = `M ${w} ${E} h${I * 120} v${S} h${$}`) : (u.x = w + I * 50 - (I < 0 ? 30 : 0), u.y = E + S - 5 + B, $ = $ - (I * 33 + B), S = S + I * B, G = `M ${w} ${E} h${I * 33 + B} v${S} h${$}`);
    } else if (l === 2) {
      const B = C.y > z.y ? 1 : -1, Q = Math.abs($) + Math.abs(S);
      u.x = Math.round(C.x - $ / Q * 60 - 20), u.y = Math.round(
        C.y - S / Q * 60 - 20 * B
      );
      const re = 1 / (e.relations.length + 1) * (s + 1) - 0.5 + 0.5;
      r === "v" ? G = `M${w},${E} c0,${I * 30} ${$ * re},${I * -10} ${$},${S}` : G = `M${w},${E} c${I * 30},0 ${I * -10},${S * re} ${$},${S}`;
    } else if (l === 6) {
      const B = C.y > z.y ? 1 : -1, Q = Math.abs($) + Math.abs(S);
      u.x = Math.round(C.x - $ / Q * 60 - 20), u.y = Math.round(
        C.y - S / Q * 60 - 20 * B
      ), r === "v" ? G = `M${w},${E} c0,${S / 2} ${$},${S / 2} ${$},${S}` : G = `M${w},${E} c${$ / 2},0 ${$ / 2},${S} ${$},${S}`;
    } else if (l === 3) {
      u.x = C.x - I * 63, u.y = C.y + 3;
      const B = 1 / (e.relations.length + 1) * (s + 1) - 0.5 + 0.5;
      r === "v" ? G = `M${w},${E} c0,${S * B} 0,0 ${$},${S}` : G = `M${w},${E} c${I * 30},0 ${I * -10},${S * B} ${$},${S}`;
    } else if (l === 5) {
      u.x = C.x - I * 63, u.y = C.y + 3;
      const B = 1 / (e.relations.length + 1) * (s + 1) - 0.5 + 0.5;
      r === "v" ? G = `M${w},${E} c0,0 0,${S * B} ${$},${S}` : G = `M${w},${E} c0,0 ${$ * B},0 ${$},${S}`;
    } else {
      const B = P.getAngleType($, S);
      u.rotate = P.getTextAngle(w, E, q, ie);
      const Q = B === 2 || B === 4 ? -1 : 1, re = (S === 0 ? -50 : Math.sin(Math.atan($ / S)) * 10 / Math.sin(90)) * Q, Me = $ === 0 ? -50 : Math.sin(Math.atan(S / $)) * 10 / Math.sin(90);
      u.x = Math.round(z.x + $ / 2 - re), u.y = Math.round(z.y + S / 2 - Me), Number.isNaN(u.rotate) && (u.rotate = 0), G = `M ${w} ${E} L ${q} ${ie}`;
    }
    return this.createReturnValue(G, u);
  }
  getTextTransform(e, t, s, n) {
    if (Number.isNaN(t) || Number.isNaN(s))
      return "translate(0,0)";
    const i = e.lineShape === void 0 ? this.options.defaultLineShape : e.lineShape;
    return i === 1 || i === 4 ? `translate(${t},${s})rotate(${n || 0})` : `translate(${t},${s})`;
  }
  getArrow(e, t, s = !1) {
    const n = t.seeks_id === this.options.checkedLineId;
    return e.isHideArrow ? "none" : `url('#${this.getLineArrow(
      e.color,
      s,
      n
    )}')`;
  }
}
class pt extends ut {
  constructor(e, t) {
    super(e, t);
  }
}
const _t = ["onClick"], mt = ["innerHTML"], gt = ["innerHTML"], yt = ["innerHTML"], vt = /* @__PURE__ */ O({
  __name: "RGNode",
  props: {
    nodeProps: null
  },
  setup(o) {
    const e = o, t = D(), s = D(!1), n = D(!1), i = Y(j).value, l = Z(() => e.nodeProps.expanded === !1 ? "c-expanded" : "c-collapsed"), r = () => {
      (e.nodeProps.el.offsetWidth !== t.value.offsetWidth || e.nodeProps.el.offsetHeight !== t.value.offsetHeight) && i.updateNodeOffsetSize(
        e.nodeProps,
        t.value.offsetWidth,
        t.value.offsetHeight
      );
    }, a = (g) => {
      i.expandOrCollapseNode(e.nodeProps, g);
    }, c = (g) => {
      i.options.disableDragNode || e.nodeProps.disableDrag || (n.value = !0, s.value = !1, _e.startDrag(
        g,
        e.nodeProps,
        h,
        (m, v, L) => {
          const z = m / (i.options.canvasZoom / 100) + L.x, C = v / (i.options.canvasZoom / 100) + L.y;
          i.setNodePosition(e.nodeProps, z, C);
        }
      ));
    }, h = (g, m, v) => {
      if (g === 0 && m === 0) {
        i.onNodeClick(e.nodeProps, v);
        return;
      }
      i.options.isMoveByParentNode && e.nodeProps.lot.childs.forEach((L) => {
        L.x += g, L.y += m;
      }), Math.abs(g) + Math.abs(m) > 6 ? setTimeout(() => {
        _("delay end dragging", n.value), n.value = !1;
      }, 100) : n.value = !1;
    }, d = () => {
      n.value || i.options.disableNodeClickEffect !== !0 && e.nodeProps.disableDefaultClickEffect !== !0 && (s.value = !0);
    }, u = () => {
      i.options.disableNodeClickEffect !== !0 && e.nodeProps.disableDefaultClickEffect !== !0 && (s.value = !1);
    }, b = (g) => {
      n.value || i.onNodeClick(e.nodeProps, g);
    }, k = (g) => g.isShow !== !1 && g.isHide !== !0 && (!g.lot.parent || k(g.lot.parent) === !0);
    return he(() => {
      r();
    }), ve(() => {
      t.value.remove();
    }), (g, m) => Le((y(), x("div", {
      ref_key: "seeksRGNode$",
      ref: t,
      style: A({
        left: o.nodeProps.x + "px",
        top: o.nodeProps.y + "px",
        opacity: o.nodeProps.opacity > 1 ? o.nodeProps.opacity / 100 : o.nodeProps.opacity
      }),
      class: "rel-node-peel"
    }, [
      o.nodeProps.expandHolderPosition && o.nodeProps.expandHolderPosition !== "hide" || f(i).options.defaultExpandHolderPosition && f(i).options.defaultExpandHolderPosition !== "hide" && o.nodeProps.lot.childs && o.nodeProps.lot.childs.length > 0 ? (y(), x("div", {
        key: 0,
        class: H([[
          "c-expand-positon-" + (o.nodeProps.expandHolderPosition || f(i).options.defaultExpandHolderPosition)
        ], "c-btn-open-close"])
      }, [
        p("span", {
          class: H(f(l)),
          style: A({
            "background-color": o.nodeProps.color || f(i).options.defaultNodeColor
          }),
          onClick: V(a, ["stop"])
        }, null, 14, _t)
      ], 2)) : N("", !0),
      o.nodeProps.html ? (y(), x("div", {
        key: 1,
        onClick: m[0] || (m[0] = V((v) => b(v), ["stop"])),
        onMousedown: m[1] || (m[1] = V((v) => c(v), ["left", "stop"])),
        onTouchstart: m[2] || (m[2] = V((v) => c(v), ["stop"])),
        onMouseover: m[3] || (m[3] = V((v) => d(), ["stop"])),
        onMouseout: m[4] || (m[4] = V((v) => u(), ["stop"])),
        innerHTML: o.nodeProps.html
      }, null, 40, mt)) : (y(), x("div", {
        key: 2,
        class: H([[
          "rel-node-shape-" + (o.nodeProps.nodeShape === void 0 ? f(i).options.defaultNodeShape : o.nodeProps.nodeShape),
          "rel-node-type-" + o.nodeProps.type,
          o.nodeProps.id === f(i).options.checkedNodeId ? "rel-node-checked" : "",
          o.nodeProps.selected ? "rel-node-selected" : "",
          o.nodeProps.styleClass,
          s.value ? "rel-node-hover" : "",
          o.nodeProps.innerHTML ? "rel-diy-node" : ""
        ], "rel-node"]),
        style: A({
          "background-color": o.nodeProps.color === void 0 ? f(i).options.defaultNodeColor : o.nodeProps.color,
          color: o.nodeProps.fontColor === void 0 ? f(i).options.defaultNodeFontColor : o.nodeProps.fontColor,
          border: (o.nodeProps.borderColor || f(i).options.defaultNodeBorderColor) + " solid " + (o.nodeProps.borderWidth || f(i).options.defaultNodeBorderWidth) + "px",
          width: (o.nodeProps.width || f(i).options.defaultNodeWidth) + "px",
          height: (o.nodeProps.height || f(i).options.defaultNodeHeight) + "px"
        }),
        onClick: m[5] || (m[5] = V((v) => b(v), ["stop"])),
        onMousedown: m[6] || (m[6] = V((v) => c(v), ["left", "stop"])),
        onTouchstart: m[7] || (m[7] = V((v) => c(v), ["stop"])),
        onMouseover: m[8] || (m[8] = V((v) => d(), ["stop"])),
        onMouseout: m[9] || (m[9] = V((v) => u(), ["stop"]))
      }, [
        f(i).options.hideNodeContentByZoom === !0 && f(i).options.canvasZoom < 40 ? N("", !0) : T(g.$slots, "node", {
          key: 0,
          node: o.nodeProps
        }, () => [
          o.nodeProps.innerHTML ? (y(), x("div", {
            key: 1,
            innerHTML: o.nodeProps.innerHTML
          }, null, 8, yt)) : (y(), x("div", {
            key: 0,
            style: A({
              color: o.nodeProps.fontColor || f(i).options.defaultNodeFontColor
            }),
            class: "c-node-text"
          }, [
            p("span", {
              innerHTML: o.nodeProps.text
            }, null, 8, gt)
          ], 4))
        ], !0)
      ], 38))
    ], 4)), [
      [Se, k(o.nodeProps)]
    ]);
  }
});
const U = (o, e) => {
  const t = o.__vccOpts || o;
  for (const [s, n] of e)
    t[s] = n;
  return t;
}, xt = /* @__PURE__ */ U(vt, [["__scopeId", "data-v-41b1ef18"]]), wt = ["xlink:href"], bt = ["x"], kt = ["xlink:href"], Ct = /* @__PURE__ */ O({
  __name: "RGLineTextByPath",
  props: {
    link: null,
    relation: null,
    relationIndex: null
  },
  setup(o) {
    const e = o, t = Y(j).value, s = Z(() => e.link.seeks_id === t.options.checkedLineId), n = Z(() => {
      const l = Ge(e.relation.text) * 10;
      return (Te(
        e.link.fromNode.x,
        e.link.fromNode.y,
        e.link.toNode.x,
        e.link.toNode.y
      ) - l) / 2;
    }), i = (l, r) => {
      t.onLineClick(l, e.link, r);
    };
    return (l, r) => (y(), x("g", null, [
      p("use", {
        "xlink:href": "#" + f(t).options.instanceId + "-" + o.link.seeks_id + "-" + o.relationIndex,
        class: H(["c-rg-line", f(s) ? "c-rg-line-checked" : ""]),
        onClick: r[0] || (r[0] = (a) => i(o.relation, a))
      }, null, 10, wt),
      p("text", {
        class: "c-rg-line-text",
        style: A({
          opacity: o.relation.opacity,
          fill: f(s) ? f(t).options.checkedLineColor : o.relation.fontColor ? o.relation.fontColor : o.relation.color ? o.relation.color : void 0
        }),
        x: f(n),
        y: "0",
        onClick: r[1] || (r[1] = (a) => i(o.relation, a))
      }, [
        p("textPath", {
          "xlink:href": "#" + f(t).options.instanceId + "-" + o.link.seeks_id + "-" + o.relationIndex,
          startOffset: "0",
          "text-anchor": "start",
          method: "align",
          spacing: "auto"
        }, oe(o.relation.text), 9, kt)
      ], 12, bt)
    ]));
  }
});
const Mt = /* @__PURE__ */ U(Ct, [["__scopeId", "data-v-5a7c66a9"]]), Lt = ["d", "stroke", "marker-start", "marker-end"], St = ["transform"], zt = /* @__PURE__ */ O({
  __name: "RGLineSmart",
  props: {
    link: null,
    relation: null,
    relationIndex: null
  },
  setup(o) {
    const e = o, t = Y(j).value, s = Z(() => e.link.seeks_id === t.options.checkedLineId), n = Z(() => {
      const { path: r, textPosition: a } = t.createLinePath(
        e.link,
        e.relation,
        e.relationIndex
      );
      return r;
    }), i = Z(() => {
      const { path: r, textPosition: a } = t.createLinePath(
        e.link,
        e.relation,
        e.relationIndex
      );
      return t.getTextTransform(
        e.relation,
        a.x,
        a.y,
        a.rotate
      );
    }), l = (r, a) => {
      t.onLineClick(r, e.link, a);
    };
    return (r, a) => (y(), x("g", null, [
      p("path", {
        d: f(n),
        class: H(["c-rg-line", o.relation.styleClass, f(s) ? "c-rg-line-checked" : ""]),
        stroke: f(s) ? f(t).options.checkedLineColor : o.relation.color ? o.relation.color : f(t).options.defaultLineColor,
        style: A({
          opacity: o.relation.opacity,
          "stroke-width": (o.relation.lineWidth ? o.relation.lineWidth : f(t).options.defaultLineWidth) + "px"
        }),
        "marker-start": o.relation.showStartArrow && f(t).getArrow(o.relation, o.link, !0),
        "marker-end": o.relation.showEndArrow && f(t).getArrow(o.relation, o.link, !1),
        fill: "none",
        onClick: a[0] || (a[0] = (c) => l(o.relation, c))
      }, null, 14, Lt),
      f(t).options.defaultShowLineLabel && f(t).options.canvasZoom > 40 ? (y(), x("g", {
        key: 0,
        transform: f(i)
      }, [
        (y(), x("text", {
          key: "t-" + o.relation.seeks_id,
          x: 0,
          y: 0,
          style: A({
            opacity: o.relation.opacity,
            fill: f(s) ? f(t).options.checkedLineColor : o.relation.fontColor ? o.relation.fontColor : o.relation.color ? o.relation.color : void 0
          }),
          class: "c-rg-line-text",
          onClick: a[1] || (a[1] = (c) => l(o.relation, c))
        }, oe(o.relation.text), 5))
      ], 8, St)) : N("", !0)
    ]));
  }
});
const $t = /* @__PURE__ */ O({
  __name: "RGLink",
  props: {
    linkProps: null
  },
  setup(o) {
    const e = Y(j).value, t = (s) => s.isShow !== !1 && s.isHide !== !0 && (!s.lot.parent || t(s.lot.parent) === !0);
    return (s, n) => o.linkProps.isHide !== !0 && t(o.linkProps.fromNode) && t(o.linkProps.toNode) ? (y(), x("g", {
      key: 0,
      ref: "seeksRGLink",
      class: H([
        f(e).options.checkedLineId == o.linkProps.seeks_id ? "c-rg-link-checked" : ""
      ]),
      transform: "translate(0,0)"
    }, [
      (y(!0), x(R, null, J(o.linkProps.relations, (i, l) => T(s.$slots, "line", {
        line: i,
        relationIndex: l
      }, () => [
        (f(e).options.lineUseTextPath || i.useTextPath) && i.isHide === !1 ? (y(), ne(Mt, {
          key: "l-" + i.seeks_id,
          link: o.linkProps,
          relation: i,
          "relation-index": l
        }, null, 8, ["link", "relation", "relation-index"])) : i.isHide === !1 ? (y(), ne(zt, {
          key: "l-" + i.seeks_id,
          link: o.linkProps,
          relation: i,
          "relation-index": l
        }, null, 8, ["link", "relation", "relation-index"])) : N("", !0)
      ], !0)), 256))
    ], 2)) : N("", !0);
  }
});
const Pt = /* @__PURE__ */ U($t, [["__scopeId", "data-v-c6092e44"]]), Nt = ["id", "d", "stroke", "marker-start", "marker-end"], Et = /* @__PURE__ */ O({
  __name: "RGLinePath",
  props: {
    link: null,
    relation: null,
    relationIndex: null
  },
  setup(o) {
    const e = o, t = Y(j).value, s = Z(() => e.link.seeks_id === t.options.checkedLineId), n = Z(() => {
      const { path: i, textPosition: l } = t.createLinePath(
        e.link,
        e.relation,
        e.relationIndex
      );
      return i;
    });
    return (i, l) => (y(), x("path", {
      id: f(t).options.instanceId + "-" + o.link.seeks_id + "-" + o.relationIndex,
      d: f(n),
      stroke: f(s) ? f(t).options.checkedLineColor : o.relation.color ? o.relation.color : f(t).options.defaultLineColor,
      style: A({
        opacity: o.relation.opacity,
        "stroke-width": (o.relation.lineWidth ? o.relation.lineWidth : f(t).options.defaultLineWidth) + "px"
      }),
      "marker-start": o.relation.showStartArrow && f(t).getArrow(o.relation, o.link, !0),
      "marker-end": o.relation.showEndArrow && f(t).getArrow(o.relation, o.link, !1),
      class: H([o.relation.styleClass, f(s) ? "c-rg-line-checked" : ""]),
      fill: "none"
    }, null, 14, Nt));
  }
}), Ce = (o) => (xe("data-v-32eefd72"), o = o(), we(), o), It = ["id"], Bt = /* @__PURE__ */ Ce(() => /* @__PURE__ */ p("stop", {
  offset: "0%",
  "stop-color": "#e52c5c"
}, null, -1)), Ht = /* @__PURE__ */ Ce(() => /* @__PURE__ */ p("stop", {
  offset: "100%",
  "stop-color": "#FD8B37"
}, null, -1)), At = [
  Bt,
  Ht
], Wt = ["id", "markerWidth", "markerHeight", "refX", "refY"], Dt = ["d"], Gt = ["id", "markerWidth", "markerHeight", "refX", "refY"], Vt = ["d"], Rt = ["id"], Tt = ["id"], Ot = ["id", "markerWidth", "markerHeight", "refX", "refY"], jt = ["fill", "d"], Ft = ["id", "markerWidth", "markerHeight", "refX", "refY"], Jt = ["fill", "d"], Zt = { class: "rel-nodediv rel-nodediv-for-webkit" }, Yt = /* @__PURE__ */ O({
  __name: "RGCanvas",
  setup(o) {
    const e = D(), t = Y(j).value, s = () => {
      e.value.style.setProperty(
        "--stroke",
        `url('#${t.options.instanceId}-lineStyle')`
      ), e.value.style.setProperty(
        "--markerEnd",
        `url('#${t.options.instanceId}-start-arrow-default')`
      ), e.value.style.setProperty(
        "--markerStart",
        `url('#${t.options.instanceId}-arrow-default')`
      ), e.value.style.setProperty(
        "--markerEndChecked",
        `url('#${t.options.instanceId}-arrow-checked')`
      ), e.value.style.setProperty(
        "--markerStartChecked",
        `url('#${t.options.instanceId}-start-arrow-checked')`
      );
    }, n = (a) => {
      if (t.options.disableZoom)
        return a.cancelBubble = !1, !0;
      try {
        a.cancelBubble = !0, a.preventDefault(), a.stopPropagation();
      } catch {
      }
      const c = {
        x: a.clientX,
        y: a.clientY
      };
      let h = a.deltaY;
      h === void 0 && (h = a.wheelDelta);
      const d = -1;
      h > 0 ? t.zoom(5 * d, c) : t.zoom(-5 * d, c);
    }, i = () => {
    }, l = (a) => {
      if (t.options.disableDragCanvas)
        return;
      let c;
      if (se) {
        let h = null, d = 100;
        c = (u, b, k, g, m) => {
          const v = m.touches || m.targetTouches, L = v[0];
          if (v && v.length > 1) {
            m.preventDefault();
            const z = v[1];
            h || (h = {
              x: z.clientX,
              y: z.clientY
            }, d = t.options.canvasZoom);
            const C = {
              x: L.clientX,
              y: L.clientY
            }, W = {
              x: z.clientX,
              y: z.clientY
            }, w = Math.hypot(
              h.x - g.x,
              h.y - g.y
            ), q = Math.hypot(
              W.x - C.x,
              W.y - C.y
            ) / w, ie = d * q;
            t.setZoom(ie);
          } else {
            const z = L.clientX, C = L.clientY, W = k.x + (z - g.x), w = k.y + (C - g.y);
            t.setCanvasOffset(W, w);
          }
        };
      }
      _e.startDrag(
        a,
        t.options.canvasOffset,
        i,
        c
      );
    }, r = Z(() => ({
      width: `${t.options.canvasSize.width}px`,
      height: `${t.options.canvasSize.height}px`,
      "margin-left": `${t.options.canvasOffset.x}px`,
      "margin-top": `${t.options.canvasOffset.y}px`,
      "background-color": "transparent",
      transform: `scale(${t.options.canvasZoom / 100},${t.options.canvasZoom / 100})`
      // 'transform-origin': (this.options.canvasOffset.zoom_buff_x * 100).toFixed(2) + '% ' + (this.options.canvasOffset.zoom_buff_y * 100).toFixed(2) + '%'
    }));
    return he(() => {
      _("[RGCanvas mounted]"), s(), t.setCanvasDom(e.value);
    }), (a, c) => (y(), x("div", {
      style: A({
        width: "100%",
        height: "100%",
        "background-image": "url(" + f(t).options.backgrounImage + ")"
      }),
      class: H([[
        f(t).options.layoutClassName,
        f(t).options.backgrounImageNoRepeat ? "rel-map-background-norepeat" : ""
      ], "rel-map"]),
      onMousedown: c[0] || (c[0] = V((h) => l(h), ["left", "stop"])),
      onTouchstart: c[1] || (c[1] = V((h) => l(h), ["stop"])),
      onWheel: n
    }, [
      p("div", {
        ref: "seeksRGCanvas",
        style: A(f(r)),
        class: "rel-map-canvas"
      }, [
        T(a.$slots, "canvas-plug", {}, void 0, !0),
        p("div", {
          ref_key: "rgCanvas$",
          ref: e,
          class: "rel-linediv",
          style: { overflow: "visible" }
        }, [
          (y(), x("svg", {
            style: A([{
              width: f(t).options.canvasSize.width + "px",
              height: f(t).options.canvasSize.height + "px"
            }, { overflow: "visible" }]),
            xmlns: "http://www.w3.org/2000/svg"
          }, [
            p("defs", null, [
              p("linearGradient", {
                id: f(t).options.instanceId + "-lineStyle",
                x1: "1",
                y1: "0",
                x2: "0",
                y2: "0"
              }, At, 8, It),
              p("marker", {
                id: f(t).options.instanceId + "-arrow-default",
                markerWidth: f(t).options.defaultLineMarker.markerWidth,
                markerHeight: f(t).options.defaultLineMarker.markerHeight,
                refX: f(t).options.defaultLineMarker.refX,
                refY: f(t).options.defaultLineMarker.refY,
                "marker-units": "strokeWidth",
                orient: "auto",
                viewBox: "0 0 12 12"
              }, [
                p("path", {
                  style: A({ fill: f(t).options.defaultLineColor }),
                  d: f(t).options.defaultLineMarker.data
                }, null, 12, Dt)
              ], 8, Wt),
              p("marker", {
                id: f(t).options.instanceId + "-start-arrow-default",
                markerWidth: f(t).options.defaultLineMarker.markerWidth,
                markerHeight: f(t).options.defaultLineMarker.markerHeight,
                refX: f(t).options.defaultLineMarker.refX,
                refY: f(t).options.defaultLineMarker.refY,
                "marker-units": "strokeWidth",
                orient: "auto",
                viewBox: "0 0 12 12"
              }, [
                p("path", {
                  style: A({ fill: f(t).options.defaultLineColor }),
                  d: f(t).options.defaultLineMarker.data,
                  transform: "translate(12,12)rotate(180)"
                }, null, 12, Vt)
              ], 8, Gt),
              p("marker", {
                id: f(t).options.instanceId + "-arrow-checked",
                markerUnits: "strokeWidth",
                markerWidth: "12",
                markerHeight: "12",
                viewBox: "0 0 12 12",
                refX: "6",
                refY: "6",
                orient: "auto"
              }, [
                p("path", {
                  style: A({ fill: f(t).options.checkedLineColor }),
                  d: "M2,2 L10,6 L2,10 L6,6 L2,2"
                }, null, 4)
              ], 8, Rt),
              p("marker", {
                id: f(t).options.instanceId + "-start-arrow-checked",
                markerUnits: "strokeWidth",
                markerWidth: "12",
                markerHeight: "12",
                viewBox: "0 0 12 12",
                refX: "6",
                refY: "6",
                orient: "auto"
              }, [
                p("path", {
                  style: A({ fill: f(t).options.checkedLineColor }),
                  d: "M2,2 L10,6 L2,10 L6,6 L2,2",
                  transform: "translate(12,12)rotate(180)"
                }, null, 4)
              ], 8, Tt),
              (y(!0), x(R, null, J(f(t).allLineColors, (h) => (y(), x("marker", {
                id: f(t).options.instanceId + "-arrow-" + h.id,
                key: h.id,
                markerWidth: f(t).options.defaultLineMarker.markerWidth,
                markerHeight: f(t).options.defaultLineMarker.markerHeight,
                refX: f(t).options.defaultLineMarker.refX,
                refY: f(t).options.defaultLineMarker.refY,
                "marker-units": "strokeWidth",
                orient: "auto"
              }, [
                p("path", {
                  fill: f(t).options.defaultLineMarker.color || h.color,
                  d: f(t).options.defaultLineMarker.data
                }, null, 8, jt)
              ], 8, Ot))), 128)),
              (y(!0), x(R, null, J(f(t).allLineColors, (h) => (y(), x("marker", {
                id: f(t).options.instanceId + "-start-arrow-" + h.id,
                key: "start-" + h.id,
                markerWidth: f(t).options.defaultLineMarker.markerWidth,
                markerHeight: f(t).options.defaultLineMarker.markerHeight,
                refX: f(t).options.defaultLineMarker.refX,
                refY: f(t).options.defaultLineMarker.refY,
                "marker-units": "strokeWidth",
                orient: "auto"
              }, [
                p("path", {
                  fill: f(t).options.defaultLineMarker.color || h.color,
                  d: f(t).options.defaultLineMarker.data,
                  transform: "translate(12,12)rotate(180)"
                }, null, 8, Jt)
              ], 8, Ft))), 128)),
              (y(!0), x(R, null, J(f(t).graphData.links, (h) => (y(), x(R, null, [
                (y(!0), x(R, null, J(h.relations, (d, u) => (y(), x(R, null, [
                  f(t).options.lineUseTextPath || d.useTextPath ? (y(), ne(Et, {
                    key: d.seeks_id,
                    link: h,
                    relation: d,
                    "relation-index": u
                  }, null, 8, ["link", "relation", "relation-index"])) : N("", !0)
                ], 64))), 256))
              ], 64))), 256))
            ]),
            (y(!0), x(R, null, J(f(t).graphData.links, (h) => (y(), ne(Pt, {
              key: h.seeks_id,
              "link-props": h
            }, {
              line: le(({ line: d }) => [
                T(a.$slots, "line", {
                  line: d,
                  link: h
                }, void 0, !0)
              ]),
              _: 2
            }, 1032, ["link-props"]))), 128))
          ], 4))
        ], 512),
        p("div", Zt, [
          (y(!0), x(R, null, J(f(t).graphData.nodes, (h) => (y(), ne(xt, {
            key: h.seeks_id,
            "node-props": h
          }, {
            node: le(({ node: d }) => [
              T(a.$slots, "node", { node: d }, void 0, !0)
            ]),
            _: 2
          }, 1032, ["node-props"]))), 128))
        ])
      ], 4)
    ], 38));
  }
});
const Xt = /* @__PURE__ */ U(Yt, [["__scopeId", "data-v-32eefd72"]]), Ut = { class: "c-debug-tools-row" }, qt = /* @__PURE__ */ O({
  __name: "GraphDebugPanel",
  setup(o) {
    const e = Y(j).value;
    D(""), D("");
    const t = D(!1), s = () => {
      t.value = !t.value;
    }, n = () => {
      console.log("options:", e.getGraphJsonOptions());
    }, i = () => {
      console.log("data:", e.getGraphJsonData());
    }, l = () => {
      e.enableDebugLog(!e.options.debug), _("debugLog:", e.options.debug);
    };
    return (r, a) => (y(), x("div", null, [
      p("div", {
        class: H([[], "c-setting-panel-button"]),
        onClick: s
      }, " Debug "),
      t.value ? (y(), x("div", {
        key: 0,
        class: H([[], "c-setting-panel"])
      }, [
        p("div", { class: "c-debug-tools-row" }, [
          p("button", { onClick: n }, "print options in console")
        ]),
        p("div", { class: "c-debug-tools-row" }, [
          p("button", { onClick: i }, "print json data in console")
        ]),
        p("div", Ut, [
          ze(" debug log status: " + oe(f(e).options.debug), 1),
          p("button", { onClick: l }, oe(f(e).options.debug ? "disable" : "enable") + " debug log ", 1)
        ])
      ])) : N("", !0)
    ]));
  }
});
const Qt = /* @__PURE__ */ U(qt, [["__scopeId", "data-v-88390d64"]]), Kt = {
  ref: "miniView",
  class: "c-mini-graph"
}, eo = /* @__PURE__ */ O({
  __name: "GraphMiniView",
  setup(o) {
    const e = Y(j).value, t = D(100), s = D(0), n = {
      minX: 9999,
      maxX: -9999,
      minY: 9999,
      maxY: -9999
    }, i = () => {
      let r = 9999, a = -9999, c = 9999, h = -9999;
      for (let d = 0; d < e.graphData.nodes.length; d++) {
        const u = e.graphData.nodes[d];
        u.x < r && (r = u.x), u.x > a && (a = u.x), u.y < c && (c = u.y), u.y > h && (h = u.y);
      }
      return s.value = (h - c) * t.value / (a - r), n.minX = r, n.minY = c, n.maxX = a, n.maxY = h, s.value;
    }, l = (r) => P.isAllowShowNode(r);
    return (r, a) => (y(), x("div", Kt, [
      p("div", {
        style: A({
          width: t.value + "px",
          height: i() + "px"
        }),
        class: "c-mini-canvas"
      }, [
        (y(!0), x(R, null, J(f(e).graphData.nodes, (c) => (y(), x(R, null, [
          l(c) ? (y(), x("div", {
            key: c.id,
            style: A({
              left: (c.x - n.minX) * t.value / (n.maxX - n.minX) + "px",
              top: (c.y - n.minY) * s.value / (n.maxY - n.minY) + "px"
            }),
            class: "c-mini-node"
          }, null, 4)) : N("", !0)
        ], 64))), 256))
      ], 4)
    ], 512));
  }
});
const to = /* @__PURE__ */ U(eo, [["__scopeId", "data-v-1b3b937f"]]), M = (o) => (xe("data-v-c51977d9"), o = o(), we(), o), oo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-resize-" })
], -1)), no = { class: "c-mb-text" }, so = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-fangda" })
], -1)), io = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "放大", -1)), ao = [
  so,
  io
], lo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-suoxiao" })
], -1)), ro = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "缩小", -1)), co = [
  lo,
  ro
], ho = {
  key: 3,
  class: "c-mb-button"
}, fo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-yuanquanfenxiang" })
], -1)), uo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "布局", -1)), po = ["onClick"], _o = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-yuanquanfenxiang" })
], -1)), mo = { class: "c-mb-text" }, go = {
  key: 4,
  class: "c-mb-button"
}, yo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-hj2" })
], -1)), vo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "线条", -1)), xo = {
  class: "c-mb-child-panel",
  style: { width: "256px", "margin-left": "-255px" }
}, wo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-hj2" })
], -1)), bo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "直线", -1)), ko = [
  wo,
  bo
], Co = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-lianjieliu" })
], -1)), Mo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "简洁", -1)), Lo = [
  Co,
  Mo
], So = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-lianjieliu" })
], -1)), zo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "生动", -1)), $o = [
  So,
  zo
], Po = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-lianjieliu" })
], -1)), No = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "鱼尾", -1)), Eo = [
  Po,
  No
], Io = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-hj2" })
], -1)), Bo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "折线", -1)), Ho = [
  Io,
  Bo
], Ao = {
  key: 5,
  class: "c-mb-button"
}, Wo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-lianjie_connecting5" })
], -1)), Do = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "连接点", -1)), Go = {
  class: "c-mb-child-panel",
  style: { width: "206px", "margin-left": "-205px" }
}, Vo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-lianjie_connecting5" })
], -1)), Ro = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "边缘", -1)), To = [
  Vo,
  Ro
], Oo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-lianjie_connecting5" })
], -1)), jo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "四点", -1)), Fo = [
  Oo,
  jo
], Jo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-lianjie_connecting5" })
], -1)), Zo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "上下", -1)), Yo = [
  Jo,
  Zo
], Xo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-lianjie_connecting5" })
], -1)), Uo = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "左右", -1)), qo = [
  Xo,
  Uo
], Qo = ["title"], Ko = {
  key: 0,
  class: "rg-icon",
  "aria-hidden": "true"
}, en = /* @__PURE__ */ M(() => /* @__PURE__ */ p("use", { "xlink:href": "#icon-zidong" }, null, -1)), tn = [
  en
], on = {
  key: 1,
  class: "c-loading-icon rg-icon",
  "aria-hidden": "true"
}, nn = /* @__PURE__ */ M(() => /* @__PURE__ */ p("use", { "xlink:href": "#icon-lianjiezhong" }, null, -1)), sn = [
  nn
], an = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "自动", -1)), ln = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-ico_reset" })
], -1)), rn = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "刷新", -1)), cn = [
  ln,
  rn
], dn = {
  key: 8,
  class: "c-mb-button"
}, hn = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-ziyuan" })
], -1)), fn = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "下载", -1)), un = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-tupian" })
], -1)), pn = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "PNG", -1)), _n = [
  un,
  pn
], mn = /* @__PURE__ */ M(() => /* @__PURE__ */ p("svg", {
  class: "rg-icon",
  "aria-hidden": "true"
}, [
  /* @__PURE__ */ p("use", { "xlink:href": "#icon-tupian" })
], -1)), gn = /* @__PURE__ */ M(() => /* @__PURE__ */ p("span", { class: "c-mb-text" }, "JPG", -1)), yn = [
  mn,
  gn
], vn = /* @__PURE__ */ O({
  __name: "GraphMiniToolBar",
  setup(o) {
    const e = Y(j).value, t = D(275), s = D(0), n = D(106);
    he(() => {
      e.options.layouts.length > 1 && (t.value -= 40);
    });
    const i = () => {
      e.refresh();
    }, l = (c) => {
      _("change layout:", c), st(c, e.options), i();
    }, r = () => {
      e.startAutoLayout();
    }, a = () => {
      s.value++, setTimeout(() => {
        s.value > 0 && s.value--;
      }, 2e3), s.value > 5 && (s.value = 0, e.printGraphJsonData());
    };
    return (c, h) => (y(), x("div", {
      style: A({
        "margin-left": f(e).options.viewELSize.width - 50 + "px",
        "margin-top": (f(e).options.viewELSize.height - 260) / 2 + "px"
      }),
      class: "c-mini-toolbar"
    }, [
      p("div", {
        class: "c-mb-button",
        style: { "margin-top": "0px" },
        onClick: h[0] || (h[0] = (d) => f(e).fullscreen())
      }, [
        oo,
        p("span", no, oe(f(e).options.fullscreen ? "退出" : "全屏"), 1)
      ]),
      f(e).options.allowShowZoomMenu ? (y(), x("div", {
        key: 0,
        class: "c-mb-button",
        onClick: h[1] || (h[1] = (d) => f(e).zoom(20))
      }, ao)) : N("", !0),
      f(e).options.allowShowZoomMenu ? (y(), x("div", {
        key: 1,
        style: { float: "left", "margin-top": "0px", height: "20px", width: "40px", "border-top": "0px", "border-bottom": "0px", "background-color": "#efefef", color: "#262626", "font-size": "10px", "text-align": "center", "line-height": "20px" },
        onClick: a
      }, oe(f(e).options.canvasZoom) + "% ", 1)) : N("", !0),
      f(e).options.allowShowZoomMenu ? (y(), x("div", {
        key: 2,
        class: "c-mb-button",
        style: { "margin-top": "0px" },
        onClick: h[2] || (h[2] = (d) => f(e).zoom(-20))
      }, co)) : N("", !0),
      f(e).options.layouts.length > 1 ? (y(), x("div", ho, [
        fo,
        uo,
        p("div", {
          style: A({
            width: f(e).options.layouts.length * 70 + 6 + "px",
            "margin-left": f(e).options.layouts.length * -70 - 5 + "px"
          }),
          class: "c-mb-child-panel"
        }, [
          (y(!0), x(R, null, J(f(e).options.layouts, (d) => (y(), x("div", {
            key: d.label,
            class: H(["c-mb-button c-mb-button-c", {
              "c-mb-button-on": f(e).options.layoutLabel === d.label
            }]),
            style: { width: "70px" },
            onClick: (u) => l(d)
          }, [
            _o,
            p("span", mo, oe(d.label), 1)
          ], 10, po))), 128))
        ], 4)
      ])) : N("", !0),
      f(e).options.allowSwitchLineShape ? (y(), x("div", go, [
        yo,
        vo,
        p("div", xo, [
          p("div", {
            class: H([{
              "c-mb-button-on": f(e).options.defaultLineShape === 1
            }, "c-mb-button c-mb-button-c"]),
            style: { width: "50px" },
            onClick: h[3] || (h[3] = (d) => f(e).setDefaultLineShape(1))
          }, ko, 2),
          p("div", {
            class: H([{
              "c-mb-button-on": f(e).options.defaultLineShape === 2
            }, "c-mb-button c-mb-button-c"]),
            style: { width: "50px" },
            onClick: h[4] || (h[4] = (d) => f(e).setDefaultLineShape(2))
          }, Lo, 2),
          p("div", {
            class: H([{
              "c-mb-button-on": f(e).options.defaultLineShape === 6
            }, "c-mb-button c-mb-button-c"]),
            style: { width: "50px" },
            onClick: h[5] || (h[5] = (d) => f(e).setDefaultLineShape(6))
          }, $o, 2),
          p("div", {
            class: H([{
              "c-mb-button-on": f(e).options.defaultLineShape === 5
            }, "c-mb-button c-mb-button-c"]),
            style: { width: "50px" },
            onClick: h[6] || (h[6] = (d) => f(e).setDefaultLineShape(5))
          }, Eo, 2),
          p("div", {
            class: H([{
              "c-mb-button-on": f(e).options.defaultLineShape === 4
            }, "c-mb-button c-mb-button-c"]),
            style: { width: "50px" },
            onClick: h[7] || (h[7] = (d) => f(e).setDefaultLineShape(4))
          }, Ho, 2)
        ])
      ])) : N("", !0),
      f(e).options.allowSwitchJunctionPoint ? (y(), x("div", Ao, [
        Wo,
        Do,
        p("div", Go, [
          p("div", {
            class: H([{
              "c-mb-button-on": f(e).options.defaultJunctionPoint === "border"
            }, "c-mb-button c-mb-button-c"]),
            style: { width: "50px" },
            onClick: h[8] || (h[8] = (d) => f(e).setDefaultJunctionPoint("border"))
          }, To, 2),
          p("div", {
            class: H([{
              "c-mb-button-on": f(e).options.defaultJunctionPoint === "ltrb"
            }, "c-mb-button c-mb-button-c"]),
            style: { width: "50px" },
            onClick: h[9] || (h[9] = (d) => f(e).setDefaultJunctionPoint("ltrb"))
          }, Fo, 2),
          p("div", {
            class: H([{
              "c-mb-button-on": f(e).options.defaultJunctionPoint === "tb"
            }, "c-mb-button c-mb-button-c"]),
            style: { width: "50px" },
            onClick: h[10] || (h[10] = (d) => f(e).setDefaultJunctionPoint("tb"))
          }, Yo, 2),
          p("div", {
            class: H([{
              "c-mb-button-on": f(e).options.defaultJunctionPoint === "lr"
            }, "c-mb-button c-mb-button-c"]),
            style: { width: "50px" },
            onClick: h[11] || (h[11] = (d) => f(e).setDefaultJunctionPoint("lr"))
          }, qo, 2)
        ])
      ])) : N("", !0),
      f(e).options.allowAutoLayoutIfSupport && f(e).options.isNeedShowAutoLayoutButton ? (y(), x("div", {
        key: 6,
        title: f(e).options.autoLayouting ? "点击停止自动布局" : "点击开始自动调整布局",
        class: H([{ "c-mb-button-on": f(e).options.autoLayouting }, "c-mb-button"]),
        onClick: r
      }, [
        f(e).options.autoLayouting ? (y(), x("svg", on, sn)) : (y(), x("svg", Ko, tn)),
        an
      ], 10, Qo)) : N("", !0),
      f(e).options.allowShowRefreshButton ? (y(), x("div", {
        key: 7,
        class: "c-mb-button",
        onClick: i
      }, cn)) : N("", !0),
      f(e).options.allowShowDownloadButton ? (y(), x("div", dn, [
        hn,
        fn,
        p("div", {
          style: A({
            width: n.value + "px",
            "margin-left": n.value * -1 + "px"
          }),
          class: "c-mb-child-panel"
        }, [
          p("div", {
            class: "c-mb-button c-mb-button-c",
            style: { width: "50px" },
            onClick: h[12] || (h[12] = (d) => f(e).downloadAsImage("png"))
          }, _n),
          p("div", {
            class: "c-mb-button c-mb-button-c",
            style: { width: "50px" },
            onClick: h[13] || (h[13] = (d) => f(e).downloadAsImage("jpg"))
          }, yn)
        ], 4)
      ])) : N("", !0)
    ], 4));
  }
});
const xn = /* @__PURE__ */ U(vn, [["__scopeId", "data-v-c51977d9"]]), wn = /* @__PURE__ */ O({
  __name: "index",
  props: {
    options: null,
    relationGraphCore: null,
    onNodeClick: { type: Function },
    onNodeExpand: { type: Function },
    onNodeCollapse: { type: Function },
    onLineClick: { type: Function },
    onImageDownload: { type: Function }
  },
  emits: [
    "on-node-click",
    "on-node-expand",
    "on-node-collapse",
    "on-line-click",
    "on-download-excel",
    "on-image-download"
  ],
  setup(o, { expose: e }) {
    const t = o;
    _("appendIconSvg:", He);
    const s = D(), n = D();
    $e(j, n), _("---------------------------graph mounted---------------------------"), he(() => {
      Re(), _("---------------------------graph mounted---------------------------");
      const l = {
        "on-node-click": t.onNodeClick,
        "on-node-expand": t.onNodeExpand,
        "on-node-collapse": t.onNodeCollapse,
        "on-line-click": t.onLineClick,
        "on-image-download": t.onImageDownload
      }, r = t.relationGraphCore || new pt(t.options, l);
      r.setDom(s.value), r.ready(), n.value = r, ce.on("change", i);
    }), ve(() => {
      ce.off("change", i);
    });
    const i = () => {
      n.value.fullscreen(ce.isFullscreen);
    };
    return e({
      onFullscreen: i,
      getInstance() {
        return n.value;
      },
      setOptions(l, r) {
        n.value.setOptions(l, r);
      },
      setJsonData(l, r, a) {
        arguments.length === 2 && typeof r == "function" && (a = r, r = !0), n.value.setJsonData(
          l,
          r,
          (c) => {
            Pe(() => {
              c.playShowEffect(() => {
                a && a(c);
              });
            });
          }
        );
      },
      appendJsonData(l, r, a) {
        arguments.length === 2 && typeof r == "function" && (a = r, r = !0), n.value.appendJsonData(l, r, a);
      },
      setLayouter(l) {
        n.value.setLayouter(l);
      },
      onGraphResize() {
        n.value.refreshNVAnalysisInfo();
      },
      refresh() {
        n.value.refresh();
      },
      focusRootNode() {
        n.value.focusRootNode();
      },
      focusNodeById(l) {
        return n.value.focusNodeById(l);
      },
      getNodeById(l) {
        return n.value.getNodeById(l);
      },
      removeNodeById(l) {
        return n.value.removeNodeById(l);
      },
      getNodes() {
        return n.value.getNodes();
      },
      getLinks() {
        return n.value.getLinks();
      },
      getGraphJsonData() {
        return n.value.getGraphJsonData();
      },
      getGraphJsonOptions() {
        return n.value.getGraphJsonOptions();
      }
    }), (l, r) => (y(), x("div", {
      ref_key: "seeksRelationGraph$",
      ref: s,
      style: A([{ width: "100%", height: "100%" }, { "box-sizing": "border-box" }])
    }, [
      n.value && n.value.options ? (y(), x(R, { key: 0 }, [
        n.value.options.showDebugPanel ? (y(), ne(Qt, { key: 0 })) : N("", !0),
        n.value.options.allowShowMiniToolBar === !0 ? T(l.$slots, "miniToolBar", { key: 1 }, () => [
          me(xn)
        ], !0) : N("", !0),
        n.value.options.allowShowMiniView === !0 ? T(l.$slots, "miniViewPanel", { key: 2 }, () => [
          me(to)
        ], !0) : N("", !0),
        T(l.$slots, "graph-plug", { relationGraph: n.value }, void 0, !0),
        n.value ? (y(), ne(Xt, { key: 3 }, {
          node: le(({ node: a }) => [
            T(l.$slots, "node", {
              node: a,
              relationGraph: n.value
            }, void 0, !0)
          ]),
          line: le(({ line: a, link: c }) => [
            T(l.$slots, "line", {
              line: a,
              link: c,
              relationGraph: n.value
            }, void 0, !0)
          ]),
          "canvas-plug": le(() => [
            T(l.$slots, "canvas-plug", { relationGraph: n.value }, void 0, !0)
          ]),
          _: 3
        })) : N("", !0)
      ], 64)) : N("", !0)
    ], 512));
  }
});
const de = /* @__PURE__ */ U(wn, [["__scopeId", "data-v-7b743962"]]);
de.install = (o) => {
  o.component("RelationGraph", de), o.component("SeeksRelationGraph", de);
};
const bn = de, Ln = bn, Sn = Ae;
export {
  Ln as RelationGraph,
  bn as default,
  Sn as version
};
